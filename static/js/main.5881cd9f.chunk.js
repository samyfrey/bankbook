(this["webpackJsonpbankbook-client"]=this["webpackJsonpbankbook-client"]||[]).push([[0],{127:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},186:function(e,t,a){},267:function(e,t,a){},286:function(e,t,a){},293:function(e,t,a){},294:function(e,t,a){},428:function(e,t,a){},443:function(e,t,a){},444:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(46),c=a.n(n),r=(a(267),a(14)),i=a.n(r),l=a(23),o=a(52),j=a(3),d="https://vast-island-10150.herokuapp.com",u="http://localhost:4741",b="localhost"===window.location.hostname?u:d,h=a(33),m=a.n(h),O=function(){return m.a.get(b+"/clients")},x=function(e){return m.a.get("".concat(b,"/clients/").concat(e))},v=function(e,t){return m.a.post(b+"/clients",{client:t},{headers:{Authorization:"Bearer ".concat(e.token)}})},p=function(e,t,a,s,n){return m.a.patch("".concat(b,"/clients/").concat(e,"/edit"),{client:{name:a,industry:s,creditLimit:n}})},g=function(e,t){return m.a.delete("".concat(b,"/clients/").concat(t),{headers:{Authorization:"Bearer ".concat(e.token)}})},f=a(19),N=a(469),w=(a(286),a(172)),y=a(1);var C=function(e){var t=e.variant,a=e.heading,n=e.message,c=Object(s.useState)(!0),r=Object(j.a)(c,2),i=r[0],l=r[1],o=Object(s.useState)(null),d=Object(j.a)(o,2),u=d[0],b=d[1];return Object(s.useEffect)((function(){var e=setTimeout((function(){return l(!1)}),5e3);return b(e),function(){clearTimeout(u)}}),[]),Object(y.jsx)(w.a,{variant:t,onClose:function(){return l(!1)},dismissible:!0,show:i,children:Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)(w.a.Heading,{children:a}),Object(y.jsx)("p",{className:"alert-body",children:n})]})})},S=(a(186),a(21)),A=a.p+"static/media/passbook.2f07c5aa.png",k=a(224),R=a.n(k),B=a(226),L=a.n(B),M=a(227),D=a.n(M),Y=a(228),z=a.n(Y),I=a(229),T=a.n(I);function E(){return Object(y.jsxs)("div",{className:"sidebar",children:[Object(y.jsx)("div",{className:"logo",children:Object(y.jsx)("img",{src:A,alt:""})}),Object(y.jsx)("div",{className:"links",children:Object(y.jsxs)("ul",{children:[Object(y.jsx)(S.c,{to:"/",children:Object(y.jsxs)("li",{children:[Object(y.jsx)(R.a,{className:"icon"}),Object(y.jsx)("span",{children:"Dashboard"})]})}),Object(y.jsx)(S.c,{to:"/clients/",children:Object(y.jsxs)("li",{children:[Object(y.jsx)(L.a,{className:"icon"}),Object(y.jsx)("span",{children:"Clients"})]})}),Object(y.jsx)(S.c,{to:"/loans/",children:Object(y.jsxs)("li",{children:[Object(y.jsx)(D.a,{className:"icon"}),Object(y.jsx)("span",{children:"Loans"})]})}),Object(y.jsx)(S.c,{to:"/budget/",children:Object(y.jsxs)("li",{children:[Object(y.jsx)(z.a,{className:"icon"}),Object(y.jsx)("span",{children:"Budget"})]})}),Object(y.jsx)(S.c,{to:"/account/",children:Object(y.jsxs)("li",{children:[Object(y.jsx)(T.a,{className:"icon"}),Object(y.jsx)("span",{children:"Profile"})]})})]})})]})}var P=function(e,t,a){return m.a.post(b+"/sign-up/",{credentials:{email:e,password:t,password_confirmation:a}})},F=function(e,t){return m.a.post(b+"/sign-in/",{credentials:{email:e,password:t}})},U=function(e){return m.a.delete(b+"/sign-out/",{headers:{Authorization:"Bearer ".concat(e.token)}})},_=function(e,t,a){return m.a.patch(b+"/change-password/",{passwords:{old:e,new:t}},{headers:{Authorization:"Bearer ".concat(a.token)}})},$=a(30),J=a(91),K=function(e){var t=e.msgAlert,a=e.setUser,n=Object(s.useState)(""),c=Object(j.a)(n,2),r=c[0],o=c[1],d=Object(s.useState)(""),u=Object(j.a)(d,2),b=u[0],h=u[1],m=Object(s.useState)(""),O=Object(j.a)(m,2),x=O[0],v=O[1],p=Object(s.useState)(!1),g=Object(j.a)(p,2),N=g[0],w=g[1],C=function(){var e=Object(l.a)(i.a.mark((function e(s){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,P(r,b,x);case 4:return e.next=6,F(r,b);case 6:n=e.sent,a(n.data.user),t({heading:"Sign Up Success",message:"Succesfully registered! You've been signed in as well.",variant:"success"}),w(!0),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(1),o(""),h(""),v(""),t({heading:"Sign Up Failed with error: "+e.t0.message,message:"Registration failed. Email may be taken, or passwords don't match.",variant:"danger"});case 18:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return N?Object(y.jsx)(f.a,{to:"/"}):Object(y.jsx)("div",{className:"row",children:Object(y.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(y.jsx)("h3",{children:"Sign Up"}),Object(y.jsxs)($.a,{onSubmit:C,children:[Object(y.jsxs)($.a.Group,{controlId:"email",children:[Object(y.jsx)($.a.Label,{children:"Email address"}),Object(y.jsx)($.a.Control,{required:!0,type:"email",name:"email",value:r,placeholder:"Enter email",onChange:function(e){return o(e.target.value)}})]}),Object(y.jsxs)($.a.Group,{controlId:"password",children:[Object(y.jsx)($.a.Label,{children:"Password"}),Object(y.jsx)($.a.Control,{required:!0,name:"password",value:b,type:"password",placeholder:"Password",onChange:function(e){return h(e.target.value)}})]}),Object(y.jsxs)($.a.Group,{controlId:"passwordConfirmation",children:[Object(y.jsx)($.a.Label,{children:"Password Confirmation"}),Object(y.jsx)($.a.Control,{required:!0,name:"passwordConfirmation",value:x,type:"password",placeholder:"Confirm Password",onChange:function(e){return v(e.target.value)}})]}),Object(y.jsx)(J.a,{className:"mt-2",variant:"primary",type:"submit",children:"Submit"})]})]})})},G=function(e){var t=e.msgAlert,a=e.setUser,n=Object(s.useState)(""),c=Object(j.a)(n,2),r=c[0],o=c[1],d=Object(s.useState)(""),u=Object(j.a)(d,2),b=u[0],h=u[1],m=Object(s.useState)(!1),O=Object(j.a)(m,2),x=O[0],v=O[1],p=function(){var e=Object(l.a)(i.a.mark((function e(s){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,F(r,b);case 4:n=e.sent,a(n.data.user),t({heading:"Sign In Success",message:"Welcome!",variant:"success"}),v(!0),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),o(""),h(""),t({heading:"Sign In Failed with error: "+e.t0.message,message:"Failed to sign in. Check your email and password and try again.",variant:"danger"});case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return x?Object(y.jsx)(f.a,{to:"/"}):Object(y.jsx)("div",{className:"row",children:Object(y.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(y.jsx)("h3",{children:"Sign In"}),Object(y.jsxs)($.a,{onSubmit:p,children:[Object(y.jsxs)($.a.Group,{controlId:"email",children:[Object(y.jsx)($.a.Label,{children:"Email address"}),Object(y.jsx)($.a.Control,{required:!0,type:"email",name:"email",value:r,placeholder:"Enter email",onChange:function(e){return o(e.target.value)}})]}),Object(y.jsxs)($.a.Group,{controlId:"password",children:[Object(y.jsx)($.a.Label,{children:"Password"}),Object(y.jsx)($.a.Control,{required:!0,name:"password",value:b,type:"password",placeholder:"Password",onChange:function(e){return h(e.target.value)}})]}),Object(y.jsx)(J.a,{className:"mt-2",variant:"primary",type:"submit",children:"Submit"})]})]})})},W=function(e){var t=e.msgAlert,a=e.clearUser,n=e.user,c=Object(s.useState)(!1),r=Object(j.a)(c,2),o=r[0],d=r[1];return Object(s.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(n);case 2:t({heading:"Signed Out Successfully",message:"Come back soon!",variant:"success"}),a(),d(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!n||o?Object(y.jsx)(f.a,{to:"/"}):""},q=function(e){var t=e.msgAlert,a=e.user,n=Object(s.useState)(""),c=Object(j.a)(n,2),r=c[0],o=c[1],d=Object(s.useState)(""),u=Object(j.a)(d,2),b=u[0],h=u[1],m=Object(s.useState)(!1),O=Object(j.a)(m,2),x=O[0],v=O[1],p=function(){var e=Object(l.a)(i.a.mark((function e(s){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,_(r,b,a);case 4:t({heading:"Change Password Success",message:"Password changed successfully!",variant:"success"}),v(!0),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),o(""),h(""),t({heading:"Change Password Failed with error: "+e.t0.message,message:"Failed to change passwords. Check your old password and try again.",variant:"danger"});case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return!a||x?Object(y.jsx)(f.a,{to:"/"}):Object(y.jsx)("div",{className:"row",children:Object(y.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(y.jsx)("h3",{children:"Change Password"}),Object(y.jsxs)($.a,{onSubmit:p,children:[Object(y.jsxs)($.a.Group,{controlId:"oldPassword",children:[Object(y.jsx)($.a.Label,{children:"Old password"}),Object(y.jsx)($.a.Control,{required:!0,name:"oldPassword",value:r,type:"password",placeholder:"Old Password",onChange:function(e){return o(e.target.value)}})]}),Object(y.jsxs)($.a.Group,{controlId:"newPassword",children:[Object(y.jsx)($.a.Label,{children:"New Password"}),Object(y.jsx)($.a.Control,{required:!0,name:"newPassword",value:b,type:"password",placeholder:"New Password",onChange:function(e){return h(e.target.value)}})]}),Object(y.jsx)(J.a,{className:"mt-2",variant:"primary",type:"submit",children:"Submit"})]})]})})},H=(a(293),a(473)),Q=a(477),V=a(476),X=a(471),Z=a(474),ee=a(475),te=a(472),ae=function(e,t){return m.a.post(b+"/loans/create",{loan:t},{headers:{Authorization:"Bearer ".concat(e.token)}})},se=function(e,t,a){return m.a.delete("".concat(b,"/loans/").concat(t),{headers:{Authorization:"Bearer ".concat(e.token)},data:{loan:{borrowerId:a}}})},ne=function(e,t){return m.a.get("".concat(b,"/loans/"),{params:{loanId:e,borrowerId:t}})};function ce(e){var t=e.clients,a=e.user,s=e.setRender,n=e.msgAlert,c=(e.selectClient,e.setSelectClient);function r(){return(r=Object(l.a)(i.a.mark((function e(t,a,c){var r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete?")){e.next=16;break}return e.prev=2,s(!1),r=a._id,l=c._id,e.next=8,se(t,r,l);case 8:s(!0),n({heading:"Transaction deleted",variant:"success"}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("error is",e.t0),n({heading:"Failed to load",message:e.t0.message,variant:"danger"});case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}var o=Object(f.g)();return Object(y.jsx)(X.a,{component:te.a,className:"table",children:Object(y.jsxs)(H.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(y.jsx)(Z.a,{children:Object(y.jsxs)(ee.a,{children:[Object(y.jsx)(V.a,{className:"tableCell",size:"small",children:"Description Name"}),Object(y.jsx)(V.a,{className:"tableCell",size:"small",children:"Company Name"}),Object(y.jsxs)(V.a,{className:"tableCell",align:"right",size:"small",children:["Credit Limit ",Object(y.jsx)("span",{className:"amountStyle",children:"($MM)"})]}),Object(y.jsx)(V.a,{className:"tableCell",align:"right",size:"small",children:"Status"}),Object(y.jsx)(V.a,{className:"tableCell",align:"right",size:"small",children:"Actions"})]})}),Object(y.jsx)(Q.a,{children:t.map((function(e){return e.loans.map((function(t){return Object(y.jsxs)(ee.a,{children:[Object(y.jsx)(V.a,{children:t.description}),Object(y.jsx)(S.b,{to:"/clients/".concat(e._id),children:Object(y.jsx)(V.a,{children:Object(y.jsxs)("div",{className:"cellWrapper",children:[Object(y.jsx)("img",{src:"https://logo.clearbit.com/".concat(e.name,".com"),alt:"",className:"image"}),e.name]})})}),Object(y.jsx)(V.a,{size:"small",align:"right",children:t.amount}),Object(y.jsx)(V.a,{size:"small",align:"right",children:Object(y.jsx)("span",{className:"status ".concat(t.status),children:t.status})}),Object(y.jsx)(V.a,{align:"right",children:Object(y.jsxs)("div",{className:"cellAction",children:[Object(y.jsx)("div",{className:"viewButton",onClick:function(){return function(e,t){c(e),o("/loans/".concat(t._id))}(e,t)},children:"Edit"}),Object(y.jsx)("div",{className:"deleteButton",onClick:function(){return function(e,t,a){return r.apply(this,arguments)}(a,t,e)},children:"Delete"})]})})]},t._id)}))}))})]})})}a(294);var re=a(460),ie=a(461),le=a(136),oe=a(137),je=a(465),de=a(113),ue=a(242),be=function(e){var t=e.aspect,a=e.title,s=e.data;return Object(y.jsxs)("div",{className:"chart",children:[Object(y.jsx)("div",{className:"title",children:a}),Object(y.jsx)(re.a,{width:"100%",aspect:t,children:Object(y.jsxs)(ie.a,{data:s,margin:{top:10,right:20,left:0,bottom:0},children:[Object(y.jsxs)("defs",{children:[Object(y.jsxs)("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(y.jsx)("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),Object(y.jsx)("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]}),Object(y.jsxs)("linearGradient",{id:"colorPv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(y.jsx)("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.8}),Object(y.jsx)("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0})]})]}),Object(y.jsx)(le.a,{dataKey:"month"}),Object(y.jsx)(oe.a,{}),Object(y.jsx)(je.a,{strokeDasharray:"3 3"}),Object(y.jsx)(de.a,{}),Object(y.jsx)(ue.a,{type:"monotone",dataKey:"thisYearRev",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorUv)"}),Object(y.jsx)(ue.a,{type:"monotone",dataKey:"pastYearRev",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorPv)"})]})})]})},he=a(466),me=a(245),Oe=a.n(me),xe=a(244),ve=(a(427),a(246)),pe=a.n(ve),ge=a(171),fe=a.n(ge),Ne=(a(428),function(e){var t=e.data,a=e.budgetData,s=e.budgetStat;return Object(y.jsxs)("div",{className:"featured",children:[Object(y.jsxs)("div",{className:"top",children:[Object(y.jsx)("h1",{className:"title",children:"Total Revenue to Budget"}),Object(y.jsx)(Oe.a,{fontSize:"small"})]}),Object(y.jsxs)("div",{className:"bottom",children:[Object(y.jsxs)("div",{className:"featuredChart",children:[Object(y.jsx)(xe.a,{className:"circle",value:s.progress,text:"".concat(Math.round(t.toString()),"%"),strokeWidth:5}),"        "]}),Object(y.jsx)("p",{className:"title",children:"YTD Revenue"}),Object(y.jsxs)("p",{className:"amount",children:[Object(y.jsx)("span",{children:"$"}),a.ytdRev,Object(y.jsx)("span",{children:"MM"})]}),Object(y.jsx)("p",{className:"desc"}),Object(y.jsxs)("div",{className:"summary",children:[Object(y.jsxs)("div",{className:"item",children:[Object(y.jsx)("div",{className:"itemTitle",children:"$-to-Budget"}),Object(y.jsxs)("div",{className:"itemResult negative",children:[Object(y.jsx)(pe.a,{fontSize:"small"}),Object(y.jsxs)("div",{className:"resultAmount",children:[Object(y.jsx)("span",{children:"$"}),s.differenceYTD,Object(y.jsx)("span",{children:"MM"})]})]})]}),Object(y.jsxs)("div",{className:"item",children:[Object(y.jsx)("div",{className:"itemTitle",children:"2022 Budget"}),Object(y.jsxs)("div",{className:"itemResult positive",children:[Object(y.jsx)(fe.a,{fontSize:"small"}),Object(y.jsxs)("div",{className:"resultAmount",children:[Object(y.jsx)("span",{children:"$"}),a.thisYearBudget,Object(y.jsx)("span",{children:"MM"})]})]})]}),Object(y.jsxs)("div",{className:"item",children:[Object(y.jsx)("div",{className:"itemTitle",children:"2021 Budget"}),Object(y.jsxs)("div",{className:"itemResult positive",children:[Object(y.jsx)(fe.a,{fontSize:"small"}),Object(y.jsxs)("div",{className:"resultAmount",children:[Object(y.jsx)("span",{children:"$"}),a.lastYearBudget,Object(y.jsx)("span",{children:"MM"})]})]})]})]})]})]})});a(161);function we(e){var t=e.data;function a(e){var t=new Date(e).getTime(),a=new Date(t).getDate(),s=new Date(t).toLocaleString("default",{month:"short"}),n=new Date(t).getFullYear();return"".concat(s," ").concat(a,", ").concat(n)}return Object(y.jsx)("div",{children:Object(y.jsx)(X.a,{component:te.a,className:"table",children:Object(y.jsx)(H.a,{sx:{minWidth:650},"aria-label":"simple table",children:Object(y.jsx)(Q.a,{children:t.map((function(e){return Object(y.jsxs)(ee.a,{children:[Object(y.jsx)(V.a,{className:"tableCell",size:"small",children:Object(y.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.title})}),Object(y.jsx)(V.a,{align:"right",className:"tableCell",size:"small",children:a(e.publishedAt)})]},e.id)}))})})})})}var ye=function(){var e=Object(s.useState)([]),t=Object(j.a)(e,2),a=t[0],n=t[1];return Object(s.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://newsapi.org/v2/top-headlines?sources=bloomberg&pageSize=10&apiKey=cc12a9a486d746b590e2849b48b94bb1");case 2:t=e.sent,n(t.data.articles);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),a?Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(we,{data:a})}):Object(y.jsx)(he.a,{animation:"border",role:"status",children:Object(y.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},Ce=[{month:"Jan",pastYearRev:1},{month:"Feb",pastYearRev:2},{month:"Mar",pastYearRev:3},{month:"Apr",pastYearRev:4.5},{month:"May",pastYearRev:4.5},{month:"Jun",pastYearRev:6},{month:"Jul",pastYearRev:6},{month:"Aug",pastYearRev:6},{month:"Sep",pastYearRev:9},{month:"Oct",pastYearRev:10},{month:"Nov",pastYearRev:11},{month:"Dec",pastYearRev:12}],Se=function(e){e.creditBudget;var t=e.revenueBudget,a=e.clients,n=e.RevChartData,c=e.setRevChartData,r=e.user,i=e.msgAlert,l=e.setRender,o=e.setSelectClient,d={thisYearBudget:t,ytdRev:function(e){for(var t=0,a=0;a<e.length;a++)for(var s=e[a].loans,n=0;n<s.length;n++){var c=s[n].revenue;t+=c}return t}(a),lastYearBudget:25},u=100*d.ytdRev/d.thisYearBudget,b={progress:u,differenceYTD:d.thisYearBudget-d.ytdRev};return Object(s.useEffect)((function(){var e,t=function(e){for(var t=[],a=0;a<e.length;a++)for(var s=e[a].loans,n=0;n<s.length;n++){var c=s[n];t.push(c)}return t}(a);var s=function(e){for(var t=0;t<e.length;t++)Ce[t].month===e[t].month&&(Ce[t].thisYearRev=e[t].revenue);return Ce}(function(e){return e.map((function(e,t,a){if(0===t)return e;var s=a[t-1];return e.revenue+=s.revenue,e}))}((e=t,Array.from(e.reduce((function(e,t){var a=t.month,s=t.revenue;return e.set(a,(e.get(a)||0)+s)}),new Map),(function(e){var t=Object(j.a)(e,2);return{month:t[0],revenue:t[1]}})))));c(s)}),[]),!n&&d?Object(y.jsx)(he.a,{animation:"border",role:"status",children:Object(y.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(y.jsx)("div",{className:"dashboard",children:Object(y.jsxs)("div",{className:"dashboardContainer",children:[Object(y.jsxs)("div",{className:"charts",children:[Object(y.jsx)(be,{className:"revChart",title:"Year-over-Year Revenue ($MM)",aspect:3,data:n}),Object(y.jsx)(Ne,{className:"progressChart",title:"YTD Revenue to Budget",data:u,budgetData:d,budgetStat:b})]}),Object(y.jsxs)("div",{className:"listContainer",children:[Object(y.jsx)("div",{className:"title",children:"Latest Transactions"}),Object(y.jsx)(ce,{clients:a,user:r,msgAlert:i,setRender:l,setSelectClient:o})]}),Object(y.jsxs)("div",{className:"listContainer",children:[Object(y.jsx)("div",{className:"title",children:"Latest News"}),Object(y.jsx)(ye,{})]})]})})},Ae=function(e){var t=e.client,a=e.user,s=e.msgAlert,n=e.setRender;function c(){return(c=Object(l.a)(i.a.mark((function e(t){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete?")){e.next=13;break}return e.prev=2,c=t._id,e.next=6,g(a,c);case 6:n(!0),s({heading:"Post deleted",variant:"success"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),s({heading:"Failed to load",message:e.t0.message,variant:"danger"});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}return Object(y.jsx)("div",{className:"deleteButton",onClick:function(){return function(e){return c.apply(this,arguments)}(t)},children:"Delete"})};function ke(e){var t=e.user,a=e.clients,s=e.setRender,n=e.msgAlert;return Object(y.jsx)(X.a,{component:te.a,className:"table",children:Object(y.jsxs)(H.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(y.jsx)(Z.a,{children:Object(y.jsxs)(ee.a,{children:[Object(y.jsx)(V.a,{className:"tableCell",size:"small",children:"Company Name"}),Object(y.jsx)(V.a,{className:"tableCell",align:"right",size:"small",children:"Industry"}),Object(y.jsx)(V.a,{className:"tableCell",align:"right",size:"small",children:"Actions"})]})}),Object(y.jsx)(Q.a,{children:a.map((function(e){return Object(y.jsxs)(ee.a,{children:[Object(y.jsx)(S.b,{to:"/clients/".concat(e._id),children:Object(y.jsx)(V.a,{children:Object(y.jsxs)("div",{className:"cellWrapper",children:[Object(y.jsx)("img",{src:"https://logo.clearbit.com/".concat(e.name,".com"),alt:"",className:"image"}),e.name]})})}),Object(y.jsx)(V.a,{align:"right",children:e.industry}),Object(y.jsx)(V.a,{align:"right",children:Object(y.jsxs)("div",{className:"cellAction",children:[Object(y.jsx)(S.b,{to:"/clients/".concat(e._id,"/edit"),children:Object(y.jsx)("div",{className:"viewButton",children:"Edit"})}),Object(y.jsx)(Ae,{user:t,client:e,msgAlert:n,setRender:s})]})})]},e._id)}))})]})})}a(127);var Re=a(467),Be=a(110),Le=a(254),Me=a(135),De=function(e){var t=e.data;return Object(y.jsxs)(Re.a,{width:330,height:350,data:t,children:[Object(y.jsx)(je.a,{strokeDasharray:"3 3"}),Object(y.jsx)(le.a,{dataKey:"name"}),Object(y.jsx)(oe.a,{}),Object(y.jsx)(de.a,{}),Object(y.jsx)(Be.a,{}),Object(y.jsx)(Le.a,{dataKey:"YTD",fill:"#8884d8",children:Object(y.jsx)(Me.a,{dataKey:"YTD",position:"top"})}),Object(y.jsx)(Le.a,{dataKey:"Budget",fill:"#82ca9d",children:Object(y.jsx)(Me.a,{className:"legendChart",dataKey:"Budget",position:"top"})})]})},Ye=function(e){var t=e.clients,a=e.user,s=e.revenueBudget,n=e.setRender,c=e.msgAlert;if(t){var r=function(e){for(var t=0,a=0;a<e.length;a++)for(var s=e[a].loans,n=0;n<s.length;n++){t+=s[n].revenue}return t},i=[{YTD:r(t),Budget:s}];return Object(y.jsx)("div",{className:"overview",children:Object(y.jsxs)("div",{className:"overview-container",children:[Object(y.jsxs)("div",{className:"overview-top",children:[Object(y.jsxs)("div",{className:"header-box",children:[Object(y.jsx)(S.b,{to:"/clients/create",children:Object(y.jsx)("button",{children:"New client"})}),Object(y.jsxs)("p",{children:["Total revenue is: ",r(t)]})]}),Object(y.jsxs)("div",{className:"chart",children:[Object(y.jsx)("div",{className:"title",children:"YTD Revenue vs Budget ($MM)"}),i&&Object(y.jsx)(De,{data:i})]})]}),Object(y.jsxs)("div",{className:"overview-table",children:[Object(y.jsx)("div",{className:"title",children:"Clients List "}),Object(y.jsx)(ke,{user:a,clients:t,setRender:n,msgAlert:c})]})]})})}return Object(y.jsx)(he.a,{animation:"border",role:"status",children:Object(y.jsx)("span",{className:"visually-hidden",children:"Loading..."})})};function ze(e){var t=e.loans;return Object(y.jsx)(X.a,{component:te.a,className:"table",children:Object(y.jsxs)(H.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(y.jsx)(Z.a,{children:Object(y.jsxs)(ee.a,{children:[Object(y.jsx)(V.a,{className:"tableCell",size:"small",children:"Loan Type"}),Object(y.jsx)(V.a,{className:"tableCell",align:"right",size:"small",children:"Closing Date"}),Object(y.jsxs)(V.a,{className:"tableCell",align:"right",size:"small",children:["Credit Limit ",Object(y.jsx)("span",{className:"amountStyle",children:"($MM)"})]}),Object(y.jsx)(V.a,{className:"tableCell",align:"right",size:"small",children:"Status"})]})}),Object(y.jsx)(Q.a,{children:t.map((function(e){return Object(y.jsxs)(ee.a,{children:[Object(y.jsx)(V.a,{children:e.description}),Object(y.jsx)(V.a,{align:"right",children:e.month}),Object(y.jsx)(V.a,{align:"right",children:e.amount}),Object(y.jsx)(V.a,{size:"small",align:"right",children:Object(y.jsx)("span",{className:"status ".concat(e.status),children:e.status})})]},e._id)}))})]})})}var Ie=function(e){var t=e.borrower,a=Object(s.useState)([]),n=Object(j.a)(a,2),c=n[0],r=n[1];if(Object(s.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://newsapi.org/v2/everything?sources=bloomberg&y&q="+t.name+"&sortBy=popularity&language=en&pageSize=10&apiKey=cc12a9a486d746b590e2849b48b94bb1");case 2:a=e.sent,console.log(a),r(a.data.articles);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!c)return Object(y.jsx)(he.a,{animation:"border",role:"status",children:Object(y.jsx)("span",{className:"visually-hidden",children:"Loading..."})});var o=[],d=[];return function(e){var t=c.map((function(e){return e.title}));o.push(t);var a=c.map((function(e){return e.publishedAt}));d.push(a)}(),Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(we,{data:c})})},Te=function(e){var t=e.user,a=e.msgAlert,n=e.render,c=e.setRender,r=Object(s.useState)(null),o=Object(j.a)(r,2),d=o[0],u=o[1],b=Object(f.h)().borrowerId;if(Object(s.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(b);case 3:t=e.sent,u(t.data.client),c(!1),console.log("res from client detail is",t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[n]),console.log("borrower state is",d),console.log("render post delete is",n),d){var h=d.loans.reduce((function(e,t){return e+t.amount}),0),m=[{name:"Total Credit Limits",YTD:h,Budget:d.creditLimit}];return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:"overview",children:Object(y.jsxs)("div",{className:"overview-container",children:[Object(y.jsxs)("div",{className:"overview-top",children:[Object(y.jsxs)("div",{className:"header-box",children:[Object(y.jsxs)("div",{className:"companyHeader",children:[Object(y.jsx)("img",{src:"https://logo.clearbit.com/".concat(d.name,".com"),alt:"",className:"image"}),Object(y.jsx)("h1",{children:d.name}),Object(y.jsxs)("div",{className:"cellAction",children:[Object(y.jsx)(S.b,{to:"/clients/".concat(d._id,"/edit"),children:Object(y.jsx)("div",{className:"viewButton",children:"Edit"})}),Object(y.jsx)(Ae,{user:t,client:d,msgAlert:a,setRender:c})]})]}),Object(y.jsxs)("div",{className:"companyMetrics",children:[Object(y.jsxs)("ul",{children:["Industry: ",d.industry]}),Object(y.jsxs)("ul",{children:["Total loans outstanding: ",Object(y.jsx)("span",{children:"$"}),h,Object(y.jsx)("span",{children:"MM"})]}),Object(y.jsxs)("ul",{children:["Credit Authorization: ",Object(y.jsx)("span",{children:"$"}),d.creditLimit,Object(y.jsx)("span",{children:"MM"})]})]}),Object(y.jsx)("div",{className:"title",children:"Transactions List"}),Object(y.jsx)(ze,{loans:d.loans})]}),Object(y.jsxs)("div",{className:"chart",children:[Object(y.jsx)("div",{className:"title",children:"YTD Revenue vs Budget ($MM)"}),Object(y.jsx)(De,{data:m})]})]}),Object(y.jsxs)("div",{className:"listContainer",children:[Object(y.jsx)("div",{className:"title",children:"Latest News"}),Object(y.jsx)(Ie,{borrower:d})]})]})})})}return Object(y.jsx)(he.a,{animation:"border",role:"status",children:Object(y.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},Ee=a(16),Pe=a(4),Fe=function(e){var t=e.data,a=e.handleChange,s=e.handleCreate;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:"overview",children:Object(y.jsx)("div",{className:"overview-container create",children:Object(y.jsxs)("div",{className:"overview-table",children:[Object(y.jsx)("div",{className:"title",children:"Add a new client"}),Object(y.jsx)("form",{className:"create-client-form",onSubmit:s,children:Object(y.jsxs)("div",{className:"create-client-item",children:[t.map((function(e){return Object(y.jsx)("div",{children:Object(y.jsx)("input",{type:"text",placeholder:e.placeholder,name:e.property,value:e.value,onChange:a})},e.id)})),Object(y.jsx)("button",{className:"button",type:"submit",children:"Create"})]})})]})})})})},Ue=function(e){var t=e.user,a=e.setRender,n=e.msgAlert,c=Object(s.useState)({name:"",industry:"",creditLimit:""}),r=Object(j.a)(c,2),o=r[0],d=r[1],u=Object(s.useState)(!1),b=Object(j.a)(u,2),h=b[0],m=b[1],O=function(){var e=Object(l.a)(i.a.mark((function e(s){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,a(!1),m(!1),e.next=6,v(t,o);case 6:m(!0),a(!0),n({heading:"Client created",variant:"success"}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),n({heading:"Failed",message:e.t0.message,variant:"danger"});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();if(h)return Object(y.jsx)(f.a,{to:"/clients"});var x=[{id:1,property:"name",value:"".concat(o.name),placeholder:"Company  Name"},{id:2,property:"industry",value:"".concat(o.industry),placeholder:"Industry"},{id:3,property:"creditLimit",value:"".concat(o.creditLimit),placeholder:"Credit Limit"}];return Object(y.jsx)(Fe,{data:x,handleChange:function(e){d(Object(Pe.a)(Object(Pe.a)({},o),{},Object(Ee.a)({},e.target.name,e.target.value)))},handleCreate:O})},_e=function(e){var t=e.msgAlert,a=e.user,s=e.setUser;return console.log("the user from the profile component is",a),a?Object(y.jsx)("div",{children:Object(y.jsx)(S.b,{to:"/account/change-password",children:"Change password"})}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(G,{msgAlert:t,setUser:s}),Object(y.jsx)(K,{msgAlert:t,setUser:s})]})},$e=(a(162),a(247)),Je=a.n($e),Ke=function(e){var t=e.clients,a=e.user,n=e.render,c=e.creditBudget,r=e.setRender,o=e.msgAlert,d=e.selectClient,u=e.setSelectClient,b=Object(s.useState)(null),h=Object(j.a)(b,2),m=h[0],x=h[1];if(Object(s.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O();case 3:t=e.sent,x(t.data.clients),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[n]),m){var v=[{YTD:function(e){for(var t=0,a=0;a<e.length;a++)for(var s=e[a].loans,n=0;n<s.length;n++){t+=s[n].amount}return t}(t),Budget:c}];return Object(y.jsx)("div",{className:"overview",children:Object(y.jsxs)("div",{className:"overview-container",children:[Object(y.jsx)("div",{className:"titleBox",children:Object(y.jsx)("div",{className:"overview-title",children:Object(y.jsxs)("div",{className:"title-box",children:[Object(y.jsxs)("h1",{children:[Object(y.jsx)(Je.a,{})," Loans"]}),Object(y.jsx)(S.b,{to:"/loans/create",children:Object(y.jsx)("button",{children:"New loan"})})]})})}),Object(y.jsxs)("div",{className:"overview-top",children:[Object(y.jsx)(ce,{clients:t,user:a,setRender:r,msgAlert:o,selectClient:d,setSelectClient:u}),Object(y.jsxs)("div",{className:"chart",children:[Object(y.jsx)("div",{className:"title",children:"Current Limits vs Budget ($MM)"}),v&&Object(y.jsx)(De,{data:v})]})]})]})})}return Object(y.jsx)(he.a,{animation:"border",role:"status",children:Object(y.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},Ge=a(142),We=function(e){var t=e.data,a=e.handleChange,s=e.handleCreate,n=e.loan,c=e.setLoan,r=e.clients,i=r.map((function(e){return{value:"".concat(e._id),label:"".concat(e.name)}}));console.log("options is",i),console.log("clients is",r);return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("form",{onSubmit:s,children:Object(y.jsxs)("div",{className:"create-client-item",children:[Object(y.jsx)(Ge.a,{placeholder:"Select Borrower",options:i,onChange:function(e){c(Object(Pe.a)(Object(Pe.a)({},n),{},{borrowerId:e.value}))}}),t.map((function(e){return Object(y.jsx)("div",{children:Object(y.jsx)("input",{type:"text",placeholder:e.placeholder,name:e.property,value:e.value,onChange:a})},e.id)})),Object(y.jsx)(Ge.a,{placeholder:"Approval Status",options:[{value:"Approved",label:"Approved"},{value:"Pending",label:"Pending"}],onChange:function(e){c(Object(Pe.a)(Object(Pe.a)({},n),{},{status:e.value}))}}),Object(y.jsx)(Ge.a,{placeholder:"Closing Month",options:[{value:"Jan",label:"January"},{value:"Feb",label:"February"},{value:"Mar",label:"March"},{value:"Apr",label:"April"},{value:"May",label:"May"},{value:"Jun",label:"June"},{value:"Jul",label:"July"},{value:"Aug",label:"August"},{value:"Sep",label:"September"},{value:"Oct",label:"October"},{value:"Nov",label:"November"},{value:"Dec",label:"December"}],onChange:function(e){c(Object(Pe.a)(Object(Pe.a)({},n),{},{month:e.value}))}}),Object(y.jsx)("button",{className:"button",type:"submit",children:"Create"})]})})})},qe=function(e){var t=e.user,a=e.updateMode,n=e.selectClient,c=e.clients,r=e.setRender,o=e.msgAlert,d=Object(s.useState)({description:"",amount:"",month:"",borrowerId:"",revenue:"",status:""}),u=Object(j.a)(d,2),b=u[0],h=u[1];a&&h(n);var m=Object(s.useState)(!1),O=Object(j.a)(m,2),x=O[0],v=O[1],p=function(){var e=Object(l.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,console.log("user is",t),v(!1),e.next=6,ae(t,b);case 6:r(!0),v(!0),o({heading:"Loan created",variant:"success"}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),o({heading:"Operation failed",message:e.t0.message,variant:"danger"});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();if(x)return Object(y.jsx)(f.a,{to:"/loans"});var g=[{id:1,property:"description",value:"".concat(b.description),placeholder:"Loan Type"},{id:2,property:"amount",value:"".concat(b.amount),placeholder:"Loan Amount ($MM)"},{id:3,property:"revenue",value:"".concat(b.revenue),placeholder:"Revenue ($MM)"}];return console.log("loan is",b),Object(y.jsx)("div",{className:"overview",children:Object(y.jsx)("div",{className:"overview-container create",children:Object(y.jsxs)("div",{className:"overview-table",children:[Object(y.jsx)("div",{className:"title",children:"Add a new loan"}),Object(y.jsx)(We,{user:t,data:g,handleChange:function(e){h(Object(Pe.a)(Object(Pe.a)({},b),{},Object(Ee.a)({},e.target.name,e.target.value)))},handleCreate:p,setLoan:h,loan:b,clients:c,selectClient:n})]})})})},He=function(e){e.creditBudget;var t=e.budgets;return Object(y.jsx)(X.a,{component:te.a,className:"table",children:Object(y.jsxs)(H.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(y.jsx)(Z.a,{children:Object(y.jsxs)(ee.a,{children:[Object(y.jsx)(V.a,{className:"tableCell",size:"small",children:"Budget Category"}),Object(y.jsxs)(V.a,{className:"tableCell",align:"right",size:"small",children:["Amount  ",Object(y.jsx)("span",{className:"amountStyle",children:"($MM)"})]}),Object(y.jsx)(V.a,{className:"tableCell",align:"right",size:"small",children:"Actions"})]})}),Object(y.jsx)(Q.a,{children:t.map((function(e){return Object(y.jsxs)(ee.a,{children:[Object(y.jsx)(V.a,{children:e.type}),Object(y.jsx)(V.a,{align:"right",children:e.amount}),Object(y.jsx)(V.a,{align:"right",children:Object(y.jsx)("div",{className:"cellAction",children:Object(y.jsx)(S.b,{to:"/budget/".concat(e._id),children:Object(y.jsx)("div",{className:"viewButton",children:"Edit"})})})})]},e._id)}))})]})})},Qe=function(e){var t=e.revenueBudget,a=e.creditBudget,s=e.budgets;return Object(y.jsx)("div",{className:"overview",children:Object(y.jsx)("div",{className:"overview-container",children:Object(y.jsxs)("div",{className:"overview-table",children:[Object(y.jsx)("div",{className:"title",children:"Budget List "}),Object(y.jsx)(He,{budgets:s,revenueBudget:t,creditBudget:a})]})})})},Ve=function(e){return m.a.get("".concat(b,"/budget/").concat(e))},Xe=function(e,t){return m.a.patch("".concat(b,"/budget/").concat(e),{budget:{amount:t}})},Ze=a(252),et=a.n(Ze),tt=(a(443),a(250)),at=a.n(tt),st=a(251),nt=a.n(st);var ct=function(e){e.placeholder;var t=e.data,a=Object(s.useState)([]),n=Object(j.a)(a,2),c=n[0],r=n[1],i=Object(s.useState)(""),l=Object(j.a)(i,2),o=l[0],d=l[1],u=function(){r([]),d("")};return Object(y.jsxs)("div",{className:"search",children:[Object(y.jsxs)("div",{className:"searchInputs",children:[Object(y.jsx)("input",{type:"text",placeholder:"Search client...",value:o,onChange:function(e){var a=e.target.value;d(a);var s=t.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())}));r(""===a?[]:s)}}),Object(y.jsx)("div",{className:"searchIcon",children:0===c.length?Object(y.jsx)(at.a,{}):Object(y.jsx)(nt.a,{id:"clearBtn",onClick:u})})]}),0!==c.length&&Object(y.jsx)("div",{className:"dataResult",children:c.slice(0,15).map((function(e,t){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(S.b,{to:"/clients/".concat(e._id),target:"_blank",rel:"noopener noreferrer",onClick:u,children:Object(y.jsxs)("p",{children:[e.name," "]})})})}))})]})},rt=function(e){var t=e.user,a=e.clients;return console.log("data is",a),Object(y.jsxs)("div",{className:"navigationBar",children:[Object(y.jsx)("div",{className:"search-bar",children:Object(y.jsx)(ct,{data:a})}),Object(y.jsxs)("div",{className:"user-register",children:[t&&Object(y.jsx)("p",{children:t.email}),!t&&Object(y.jsxs)(S.b,{to:"/account",children:[Object(y.jsx)(et.a,{className:"icon"})," Register/Log in"]})]}),Object(y.jsx)("div",{className:"item"})]})},it=function(){var e=Object(f.h)().budgetId,t=Object(s.useState)(""),a=Object(j.a)(t,2),n=a[0],c=a[1],r=Object(s.useState)(""),o=Object(j.a)(r,2),d=o[0],u=o[1];console.log("budget id is",e),Object(s.useEffect)((function(){(function(){var t=Object(l.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ve(e);case 3:a=t.sent,c(a.data.budget),console.log("res is",a),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[]),console.log("selectBudget is",n);var b=function(){var t=Object(l.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),console.log("updated amount is",d),t.prev=2,t.next=5,Xe(e,d);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(y.jsx)("div",{className:"overview",children:Object(y.jsx)("div",{className:"overview-container create",children:Object(y.jsxs)("div",{className:"overview-table",children:[Object(y.jsxs)("div",{className:"title",children:["Update ",n.type]}),Object(y.jsxs)("form",{className:"create-client-form",onSubmit:b,children:[Object(y.jsx)("input",{type:"text",placeholder:"Type new amount",name:"amount",value:d,onChange:function(e){return u(e.target.value)}}),Object(y.jsx)("button",{className:"button",type:"submit",children:"Update"})]})]})})})},lt=function(e){var t=e.user,a=e.msgAlert,n=Object(f.h)().borrowerId,c=Object(s.useState)(""),r=Object(j.a)(c,2),o=r[0],d=r[1],u=Object(s.useState)(""),b=Object(j.a)(u,2),h=b[0],m=b[1],O=Object(s.useState)(""),x=Object(j.a)(O,2),v=x[0],g=x[1];console.log("clientId is",n),console.log("user is",t);var N=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,p(n,0,o,h,v);case 4:a({heading:"Updated",variant:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a({heading:"Failed to load",message:e.t0.message,variant:"danger"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return console.log("borrowerId is",n),Object(y.jsx)("div",{className:"overview",children:Object(y.jsx)("div",{className:"overview-container create",children:Object(y.jsxs)("div",{className:"overview-table",children:[Object(y.jsx)("div",{className:"title",children:"Edit client details"}),Object(y.jsxs)("form",{className:"create-client-form",onSubmit:N,children:[Object(y.jsx)("input",{type:"text",placeholder:"Edit name",name:"amount",value:o,onChange:function(e){return d(e.target.value)}}),Object(y.jsx)("input",{type:"text",placeholder:"Edit industry",name:"amount",value:h,onChange:function(e){return m(e.target.value)}}),Object(y.jsx)("input",{type:"text",placeholder:"Edit credit limit",name:"amount",value:v,onChange:function(e){return g(e.target.value)}}),Object(y.jsx)("button",{className:"button",type:"submit",children:"Update"})]})]})})})},ot=function(e){e.user,e.client;var t=e.msgAlert,a=(e.setRender,e.selectClient),n=(e.setSelectClient,Object(s.useState)(null)),c=Object(j.a)(n,2),r=c[0],o=c[1],d=Object(f.h)().loanId;if(console.log("loanId is",d),!a)return Object(y.jsx)(f.a,{to:"/"});var u=a._id;return Object(s.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("loan id is",d),console.log("borrower id is",u),e.next=5,ne(d,u);case 5:a=e.sent,o(a.data.loan),console.log("res is",a),console.log("loan to update is",r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({heading:"Failed to load",message:e.t0.message,variant:"danger"});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("loan is",r),console.log("selectClient  from loanEdit state is",a),Object(y.jsx)("div",{children:"Edit"})},jt=function(){var e=Object(s.useState)(null),t=Object(j.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)([]),r=Object(j.a)(c,2),d=r[0],u=r[1],h=Object(s.useState)([]),x=Object(j.a)(h,2),v=x[0],p=x[1],g=Object(s.useState)([]),w=Object(j.a)(g,2),S=w[0],A=w[1],k=Object(s.useState)(!1),R=Object(j.a)(k,2),B=R[0],L=R[1],M=Object(s.useState)(null),D=Object(j.a)(M,2),Y=D[0],z=D[1],I=Object(s.useState)(null),T=Object(j.a)(I,2),P=T[0],F=T[1],U=Object(s.useState)(null),_=Object(j.a)(U,2),$=_[0],J=_[1],H=Object(s.useState)(null),Q=Object(j.a)(H,2),V=Q[0],X=Q[1],Z=function(e){var t=e.heading,a=e.message,s=e.variant,n=Object(N.a)();u((function(e){return[].concat(Object(o.a)(e),[{heading:t,message:a,variant:s,id:n}])}))};return Object(s.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O();case 3:return t=e.sent,A(t.data.clients),e.next=7,m.a.get(b+"/budget");case 7:a=e.sent,J(a.data.budget),F(a.data.budget[0].amount),z(a.data.budget[1].amount),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("error is",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}})()()}),[B]),Object(y.jsxs)("div",{className:"app",children:[Object(y.jsx)(E,{}),Object(y.jsxs)("div",{className:"appContainer",children:[Object(y.jsx)(rt,{user:a,clients:S,render:B}),d.map((function(e){return Object(y.jsx)(C,{heading:e.heading,variant:e.variant,message:e.message,id:e.id},e.id)})),Object(y.jsxs)(f.d,{children:[Object(y.jsxs)(f.b,{path:"/account/",children:[Object(y.jsx)(f.b,{index:!0,element:Object(y.jsx)(_e,{msgAlert:Z,user:a,setUser:n})}),Object(y.jsx)(f.b,{path:"sign-up",element:Object(y.jsx)(K,{msgAlert:Z,setUser:n})}),Object(y.jsx)(f.b,{path:"sign-in",element:Object(y.jsx)(G,{msgAlert:Z,setUser:n})}),Object(y.jsx)(f.b,{path:"change-password",element:Object(y.jsx)(q,{msgAlert:Z,user:a})}),Object(y.jsx)(f.b,{path:"sign-out",element:Object(y.jsx)(W,{msgAlert:Z,clearUser:function(){return n(null)},user:a})})]}),Object(y.jsxs)(f.b,{path:"/clients/",children:[Object(y.jsx)(f.b,{index:!0,element:Object(y.jsx)(Ye,{msgAlert:Z,clients:S,user:a,setRender:L,revenueBudget:Y})}),Object(y.jsx)(f.b,{path:":borrowerId",element:Object(y.jsx)(Te,{user:a,render:B,setRender:L,msgAlert:Z})}),Object(y.jsx)(f.b,{path:":borrowerId/edit",element:Object(y.jsx)(lt,{user:a,msgAlert:Z})}),Object(y.jsx)(f.b,{path:"create",element:Object(y.jsx)(Ue,{user:a,setRender:L,msgAlert:Z})})]}),Object(y.jsxs)(f.b,{path:"/loans/",children:[Object(y.jsx)(f.b,{index:!0,element:Object(y.jsx)(Ke,{clients:S,user:a,setRender:L,render:B,creditBudget:P,msgAlert:Z,selectClient:V,setSelectClient:X})}),Object(y.jsx)(f.b,{path:"create",element:Object(y.jsx)(qe,{user:a,clients:S,msgAlert:Z,setRender:L})}),Object(y.jsx)(f.b,{path:":loanId",element:Object(y.jsx)(ot,{user:a,clients:S,msgAlert:Z,setRender:L,selectClient:V,setSelectClient:X})})]}),Object(y.jsx)(f.b,{path:"/",element:Object(y.jsx)(Se,{clients:S,RevChartData:v,setRevChartData:p,revenueBudget:Y,user:a,msgAlert:Z,setRender:L,setSelectClient:X})}),Object(y.jsxs)(f.b,{path:"/budget/",children:[Object(y.jsx)(f.b,{index:!0,element:Object(y.jsx)(Qe,{user:a,revenueBudget:Y,setRevenueBudget:z,creditBudget:P,setCreditBudget:F,budgets:$})}),Object(y.jsx)(f.b,{path:":budgetId",element:Object(y.jsx)(it,{})})]})]})]})]})},dt=Object(y.jsx)(S.a,{basename:"/bankbook",children:Object(y.jsx)(jt,{})});c.a.render(dt,document.getElementById("root"))}},[[444,1,2]]]);
//# sourceMappingURL=main.5881cd9f.chunk.js.map