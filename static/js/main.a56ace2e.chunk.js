(this["webpackJsonpbankbook-client"]=this["webpackJsonpbankbook-client"]||[]).push([[0],{126:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},186:function(e,t,a){},266:function(e,t,a){},285:function(e,t,a){},292:function(e,t,a){},293:function(e,t,a){},294:function(e,t,a){},428:function(e,t,a){},443:function(e,t,a){},444:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(45),c=a.n(s),r=(a(266),a(14)),i=a.n(r),l=a(23),j=a(51),d=a(3),o="https://vast-island-10150.herokuapp.com",u="http://localhost:4741",b="localhost"===window.location.hostname?u:o,h=a(31),m=a.n(h),O=function(){return m.a.get(b+"/clients")},x=function(e){return m.a.get("".concat(b,"/clients/").concat(e))},v=function(e,t){return m.a.post(b+"/clients",{client:t},{headers:{Authorization:"Bearer ".concat(e.token)}})},p=function(e,t,a,n,s){return m.a.patch("".concat(b,"/clients/").concat(e,"/edit"),{client:{name:a,industry:n,creditLimit:s}})},g=function(e,t){return m.a.delete("".concat(b,"/clients/").concat(t),{headers:{Authorization:"Bearer ".concat(e.token)}})},f=a(20),N=a(469),w=(a(285),a(172)),y=a(1);var C=function(e){var t=e.variant,a=e.heading,s=e.message,c=Object(n.useState)(!0),r=Object(d.a)(c,2),i=r[0],l=r[1],j=Object(n.useState)(null),o=Object(d.a)(j,2),u=o[0],b=o[1];return Object(n.useEffect)((function(){var e=setTimeout((function(){return l(!1)}),5e3);return b(e),function(){clearTimeout(u)}}),[]),Object(y.jsx)(w.a,{variant:t,onClose:function(){return l(!1)},dismissible:!0,show:i,children:Object(y.jsxs)("div",{className:"container",children:[Object(y.jsx)(w.a.Heading,{children:a}),Object(y.jsx)("p",{className:"alert-body",children:s})]})})},S=(a(186),a(19)),A=a.p+"static/media/passbook.2f07c5aa.png",k=a(224),R=a.n(k),B=a(226),D=a.n(B),M=a(227),L=a.n(M),Y=a(228),z=a.n(Y),T=a(229),F=a.n(T);function E(){return Object(y.jsxs)("div",{className:"sidebar",children:[Object(y.jsx)("div",{className:"logo",children:Object(y.jsx)("img",{src:A,alt:""})}),Object(y.jsx)("div",{className:"links",children:Object(y.jsxs)("ul",{children:[Object(y.jsx)(S.c,{to:"/",children:Object(y.jsxs)("li",{children:[Object(y.jsx)(R.a,{className:"icon"}),Object(y.jsx)("span",{children:"Dashboard"})]})}),Object(y.jsx)(S.c,{to:"/clients/",children:Object(y.jsxs)("li",{children:[Object(y.jsx)(D.a,{className:"icon"}),Object(y.jsx)("span",{children:"Clients"})]})}),Object(y.jsx)(S.c,{to:"/loans/",children:Object(y.jsxs)("li",{children:[Object(y.jsx)(L.a,{className:"icon"}),Object(y.jsx)("span",{children:"Loans"})]})}),Object(y.jsx)(S.c,{to:"/budget/",children:Object(y.jsxs)("li",{children:[Object(y.jsx)(z.a,{className:"icon"}),Object(y.jsx)("span",{children:"Budget"})]})}),Object(y.jsx)(S.c,{to:"/account/",children:Object(y.jsxs)("li",{children:[Object(y.jsx)(F.a,{className:"icon"}),Object(y.jsx)("span",{children:"Account"})]})})]})})]})}var P=function(e,t,a){return m.a.post(b+"/sign-up/",{credentials:{email:e,password:t,password_confirmation:a}})},I=function(e,t){return m.a.post(b+"/sign-in/",{credentials:{email:e,password:t}})},_=function(e){return m.a.delete(b+"/sign-out/",{headers:{Authorization:"Bearer ".concat(e.token)}})},U=function(e,t,a){return m.a.patch(b+"/change-password/",{passwords:{old:e,new:t}},{headers:{Authorization:"Bearer ".concat(a.token)}})},$=function(e){var t=e.msgAlert,a=e.setUser,s=Object(n.useState)(""),c=Object(d.a)(s,2),r=c[0],j=c[1],o=Object(n.useState)(""),u=Object(d.a)(o,2),b=u[0],h=u[1],m=Object(n.useState)(""),O=Object(d.a)(m,2),x=O[0],v=O[1],p=Object(n.useState)(!1),g=Object(d.a)(p,2),N=g[0],w=g[1],C=function(){var e=Object(l.a)(i.a.mark((function e(n){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,P(r,b,x);case 4:return e.next=6,I(r,b);case 6:s=e.sent,a(s.data.user),t({heading:"Sign Up Success",message:"Succesfully registered! You've been signed in as well.",variant:"success"}),w(!0),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(1),j(""),h(""),v(""),t({heading:"Sign Up Failed with error: "+e.t0.message,message:"Registration failed. Email may be taken, or passwords don't match.",variant:"danger"});case 18:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return N?Object(y.jsx)(f.a,{to:"/"}):Object(y.jsx)("div",{className:"container-box",children:Object(y.jsx)("div",{className:"auth-form",children:Object(y.jsxs)("form",{onSubmit:C,children:[Object(y.jsxs)("div",{className:"email",children:[Object(y.jsx)("label",{children:"Email address"}),Object(y.jsx)("input",{required:!0,type:"email",name:"email",value:r,placeholder:"Enter email",onChange:function(e){return j(e.target.value)}})]}),Object(y.jsxs)("div",{className:"password",children:[Object(y.jsx)("label",{children:"Password"}),Object(y.jsx)("input",{required:!0,name:"password",value:b,type:"password",placeholder:"Password",onChange:function(e){return h(e.target.value)}})]}),Object(y.jsxs)("div",{className:"password",children:[Object(y.jsx)("label",{children:"Password"}),Object(y.jsx)("input",{required:!0,name:"passwordConfirmation",value:x,type:"password",placeholder:"Confirm Password",onChange:function(e){return v(e.target.value)}})]}),Object(y.jsx)("button",{type:"submit",children:"Submit"})]})})})},J=(a(292),function(e){var t=e.msgAlert,a=e.setUser,s=Object(n.useState)(""),c=Object(d.a)(s,2),r=c[0],j=c[1],o=Object(n.useState)(""),u=Object(d.a)(o,2),b=u[0],h=u[1],m=Object(n.useState)(!1),O=Object(d.a)(m,2),x=O[0],v=O[1],p=function(){var e=Object(l.a)(i.a.mark((function e(n){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,I(r,b);case 4:s=e.sent,a(s.data.user),t({heading:"Sign In Success",message:"Welcome!",variant:"success"}),v(!0),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),j(""),h(""),t({heading:"Sign In Failed with error: "+e.t0.message,message:"Failed to sign in. Check your email and password and try again.",variant:"danger"});case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return x?Object(y.jsx)(f.a,{to:"/"}):Object(y.jsx)("div",{className:"container-box",children:Object(y.jsx)("div",{className:"auth-form",children:Object(y.jsxs)("form",{onSubmit:p,children:[Object(y.jsxs)("div",{className:"email",children:[Object(y.jsx)("label",{children:"Email address"}),Object(y.jsx)("input",{required:!0,type:"email",name:"email",value:r,placeholder:"Enter email",onChange:function(e){return j(e.target.value)}})]}),Object(y.jsxs)("div",{className:"password",children:[Object(y.jsx)("label",{children:"Password"}),Object(y.jsx)("input",{required:!0,name:"password",value:b,type:"password",placeholder:"Password",onChange:function(e){return h(e.target.value)}})]}),Object(y.jsx)("button",{type:"submit",children:"Submit"})]})})})}),K=function(e){var t=e.msgAlert,a=e.clearUser,s=e.user,c=Object(n.useState)(!1),r=Object(d.a)(c,2),j=r[0],o=r[1];return Object(n.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(s);case 2:t({heading:"Signed Out Successfully",message:"Come back soon!",variant:"success"}),a(),o(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!s||j?Object(y.jsx)(f.a,{to:"/"}):""},W=a(77),q=a(230),G=function(e){var t=e.msgAlert,a=e.user,s=Object(n.useState)(""),c=Object(d.a)(s,2),r=c[0],j=c[1],o=Object(n.useState)(""),u=Object(d.a)(o,2),b=u[0],h=u[1],m=Object(n.useState)(!1),O=Object(d.a)(m,2),x=O[0],v=O[1],p=function(){var e=Object(l.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,U(r,b,a);case 4:t({heading:"Change Password Success",message:"Password changed successfully!",variant:"success"}),v(!0),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),j(""),h(""),t({heading:"Change Password Failed with error: "+e.t0.message,message:"Failed to change passwords. Check your old password and try again.",variant:"danger"});case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return!a||x?Object(y.jsx)(f.a,{to:"/"}):Object(y.jsx)("div",{className:"row",children:Object(y.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(y.jsx)("h3",{children:"Change Password"}),Object(y.jsxs)(W.a,{onSubmit:p,children:[Object(y.jsxs)(W.a.Group,{controlId:"oldPassword",children:[Object(y.jsx)(W.a.Label,{children:"Old password"}),Object(y.jsx)(W.a.Control,{required:!0,name:"oldPassword",value:r,type:"password",placeholder:"Old Password",onChange:function(e){return j(e.target.value)}})]}),Object(y.jsxs)(W.a.Group,{controlId:"newPassword",children:[Object(y.jsx)(W.a.Label,{children:"New Password"}),Object(y.jsx)(W.a.Control,{required:!0,name:"newPassword",value:b,type:"password",placeholder:"New Password",onChange:function(e){return h(e.target.value)}})]}),Object(y.jsx)(q.a,{className:"mt-2",variant:"primary",type:"submit",children:"Submit"})]})]})})},H=(a(293),a(473)),Q=a(477),V=a(476),X=a(471),Z=a(474),ee=a(475),te=a(472),ae=function(e,t){return m.a.post(b+"/loans/create",{loan:t},{headers:{Authorization:"Bearer ".concat(e.token)}})},ne=function(e,t,a){return m.a.delete("".concat(b,"/loans/").concat(t),{headers:{Authorization:"Bearer ".concat(e.token)},data:{loan:{borrowerId:a}}})},se=function(e,t){return m.a.get("".concat(b,"/loans/"),{params:{loanId:e,borrowerId:t}})};function ce(e){var t=e.clients,a=e.user,n=e.setRender,s=e.msgAlert,c=(e.selectClient,e.setSelectClient);function r(){return(r=Object(l.a)(i.a.mark((function e(t,a,c){var r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete?")){e.next=16;break}return e.prev=2,n(!1),r=a._id,l=c._id,e.next=8,ne(t,r,l);case 8:n(!0),s({heading:"Transaction deleted",variant:"success"}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("error is",e.t0),s({heading:"Failed to load",message:e.t0.message,variant:"danger"});case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}var j=Object(f.g)();return Object(y.jsx)(X.a,{component:te.a,className:"table",children:Object(y.jsxs)(H.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(y.jsx)(Z.a,{children:Object(y.jsxs)(ee.a,{children:[Object(y.jsx)(V.a,{className:"tableCell",size:"small",children:"Description Name"}),Object(y.jsx)(V.a,{className:"tableCell",size:"small",children:"Company Name"}),Object(y.jsxs)(V.a,{className:"tableCell",align:"right",size:"small",children:["Credit Limit ",Object(y.jsx)("span",{className:"amountStyle",children:"($MM)"})]}),Object(y.jsx)(V.a,{className:"tableCell",align:"right",size:"small",children:"Status"}),Object(y.jsx)(V.a,{className:"tableCell",align:"right",size:"small",children:"Actions"})]})}),Object(y.jsx)(Q.a,{children:t.map((function(e){return e.loans.map((function(t){return Object(y.jsxs)(ee.a,{children:[Object(y.jsx)(V.a,{children:t.description}),Object(y.jsx)(S.b,{to:"/clients/".concat(e._id),children:Object(y.jsx)(V.a,{children:Object(y.jsxs)("div",{className:"cellWrapper",children:[Object(y.jsx)("img",{src:"https://logo.clearbit.com/".concat(e.name,".com"),alt:"",className:"image"}),e.name]})})}),Object(y.jsx)(V.a,{size:"small",align:"right",children:t.amount}),Object(y.jsx)(V.a,{size:"small",align:"right",children:Object(y.jsx)("span",{className:"status ".concat(t.status),children:t.status})}),Object(y.jsx)(V.a,{align:"right",children:Object(y.jsxs)("div",{className:"cellAction",children:[Object(y.jsx)("div",{className:"viewButton",onClick:function(){return function(e,t){c(e),j("/loans/".concat(t._id))}(e,t)},children:"Edit"}),Object(y.jsx)("div",{className:"deleteButton",onClick:function(){return function(e,t,a){return r.apply(this,arguments)}(a,t,e)},children:"Delete"})]})})]},t._id)}))}))})]})})}a(294);var re=a(460),ie=a(461),le=a(135),je=a(136),de=a(465),oe=a(112),ue=a(243),be=function(e){var t=e.aspect,a=e.title,n=e.data;return Object(y.jsxs)("div",{className:"chart",children:[Object(y.jsx)("div",{className:"title",children:a}),Object(y.jsx)(re.a,{width:"100%",aspect:t,children:Object(y.jsxs)(ie.a,{data:n,margin:{top:10,right:20,left:0,bottom:0},children:[Object(y.jsxs)("defs",{children:[Object(y.jsxs)("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(y.jsx)("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),Object(y.jsx)("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]}),Object(y.jsxs)("linearGradient",{id:"colorPv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(y.jsx)("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.8}),Object(y.jsx)("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0})]})]}),Object(y.jsx)(le.a,{dataKey:"month"}),Object(y.jsx)(je.a,{}),Object(y.jsx)(de.a,{strokeDasharray:"3 3"}),Object(y.jsx)(oe.a,{}),Object(y.jsx)(ue.a,{type:"monotone",dataKey:"thisYearRev",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorUv)"}),Object(y.jsx)(ue.a,{type:"monotone",dataKey:"pastYearRev",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorPv)"})]})})]})},he=a(466),me=a(246),Oe=a.n(me),xe=a(245),ve=(a(427),a(247)),pe=a.n(ve),ge=a(170),fe=a.n(ge),Ne=(a(428),function(e){var t=e.data,a=e.budgetData,n=e.budgetStat;return Object(y.jsxs)("div",{className:"featured",children:[Object(y.jsxs)("div",{className:"top",children:[Object(y.jsx)("h1",{className:"title",children:"Total Revenue to Budget"}),Object(y.jsx)(Oe.a,{fontSize:"small"})]}),Object(y.jsxs)("div",{className:"bottom",children:[Object(y.jsxs)("div",{className:"featuredChart",children:[Object(y.jsx)(xe.a,{className:"circle",value:n.progress,text:"".concat(Math.round(t.toString()),"%"),strokeWidth:5}),"        "]}),Object(y.jsx)("p",{className:"title",children:"YTD Revenue"}),Object(y.jsxs)("p",{className:"amount",children:[Object(y.jsx)("span",{children:"$"}),a.ytdRev,Object(y.jsx)("span",{children:"MM"})]}),Object(y.jsx)("p",{className:"desc"}),Object(y.jsxs)("div",{className:"summary",children:[Object(y.jsxs)("div",{className:"item",children:[Object(y.jsx)("div",{className:"itemTitle",children:"$-to-Budget"}),Object(y.jsxs)("div",{className:"itemResult negative",children:[Object(y.jsx)(pe.a,{fontSize:"small"}),Object(y.jsxs)("div",{className:"resultAmount",children:[Object(y.jsx)("span",{children:"$"}),n.differenceYTD,Object(y.jsx)("span",{children:"MM"})]})]})]}),Object(y.jsxs)("div",{className:"item",children:[Object(y.jsx)("div",{className:"itemTitle",children:"2022 Budget"}),Object(y.jsxs)("div",{className:"itemResult positive",children:[Object(y.jsx)(fe.a,{fontSize:"small"}),Object(y.jsxs)("div",{className:"resultAmount",children:[Object(y.jsx)("span",{children:"$"}),a.thisYearBudget,Object(y.jsx)("span",{children:"MM"})]})]})]}),Object(y.jsxs)("div",{className:"item",children:[Object(y.jsx)("div",{className:"itemTitle",children:"2021 Budget"}),Object(y.jsxs)("div",{className:"itemResult positive",children:[Object(y.jsx)(fe.a,{fontSize:"small"}),Object(y.jsxs)("div",{className:"resultAmount",children:[Object(y.jsx)("span",{children:"$"}),a.lastYearBudget,Object(y.jsx)("span",{children:"MM"})]})]})]})]})]})]})});a(160);function we(e){var t=e.data;function a(e){var t=new Date(e).getTime(),a=new Date(t).getDate(),n=new Date(t).toLocaleString("default",{month:"short"}),s=new Date(t).getFullYear();return"".concat(n," ").concat(a,", ").concat(s)}return Object(y.jsx)("div",{children:Object(y.jsx)(X.a,{component:te.a,className:"table",children:Object(y.jsx)(H.a,{sx:{minWidth:650},"aria-label":"simple table",children:Object(y.jsx)(Q.a,{children:t.map((function(e){return Object(y.jsxs)(ee.a,{children:[Object(y.jsx)(V.a,{className:"tableCell",size:"small",children:Object(y.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.title})}),Object(y.jsx)(V.a,{align:"right",className:"tableCell",size:"small",children:a(e.publishedAt)})]},e.id)}))})})})})}var ye=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],s=t[1];return Object(n.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://newsapi.org/v2/top-headlines?sources=bloomberg&pageSize=10&apiKey=cc12a9a486d746b590e2849b48b94bb1");case 2:t=e.sent,s(t.data.articles);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),a?Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(we,{data:a})}):Object(y.jsx)(he.a,{animation:"border",role:"status",children:Object(y.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},Ce=[{month:"Jan",pastYearRev:1},{month:"Feb",pastYearRev:2},{month:"Mar",pastYearRev:3},{month:"Apr",pastYearRev:4.5},{month:"May",pastYearRev:4.5},{month:"Jun",pastYearRev:6},{month:"Jul",pastYearRev:6},{month:"Aug",pastYearRev:6},{month:"Sep",pastYearRev:9},{month:"Oct",pastYearRev:10},{month:"Nov",pastYearRev:11},{month:"Dec",pastYearRev:12}];function Se(e){for(var t=0,a=0;a<e.length;a++)for(var n=e[a].loans,s=0;s<n.length;s++){t+=n[s].revenue}return t}var Ae=function(e){e.creditBudget;var t=e.revenueBudget,a=e.clients,s=e.RevChartData,c=e.setRevChartData,r=e.user,i=e.msgAlert,l=e.setRender,j=e.setSelectClient,o={thisYearBudget:t,ytdRev:Se(a),lastYearBudget:25},u=100*o.ytdRev/o.thisYearBudget,b={progress:u,differenceYTD:o.thisYearBudget-o.ytdRev};return Object(n.useEffect)((function(){var e,t=function(e){for(var t=[],a=0;a<e.length;a++)for(var n=e[a].loans,s=0;s<n.length;s++){var c=n[s];t.push(c)}return t}(a),n=function(e){for(var t=0;t<e.length;t++)Ce[t].month===e[t].month&&(Ce[t].thisYearRev=e[t].revenue);return Ce}(function(e){return e.map((function(e,t,a){if(0===t)return e;var n=a[t-1];return e.revenue+=n.revenue,e}))}((e=t,Array.from(e.reduce((function(e,t){var a=t.month,n=t.revenue;return e.set(a,(e.get(a)||0)+n)}),new Map),(function(e){var t=Object(d.a)(e,2);return{month:t[0],revenue:t[1]}})))));c(n)}),[]),s||o?Object(y.jsx)("div",{className:"dashboard",children:Object(y.jsxs)("div",{className:"dashboard-container",children:[Object(y.jsxs)("div",{className:"charts",children:[Object(y.jsx)(be,{className:"container-box revenue-chart",title:"Year-over-Year Revenue ($MM)",aspect:3,data:s}),Object(y.jsx)(Ne,{className:"progress-chart",title:"YTD Revenue to Budget",data:u,budgetData:o,budgetStat:b})]}),Object(y.jsxs)("div",{className:"container-box",children:[Object(y.jsx)("div",{className:"title",children:"Latest Transactions"}),Object(y.jsx)(ce,{clients:a,user:r,msgAlert:i,setRender:l,setSelectClient:j})]}),Object(y.jsxs)("div",{className:"container-box",children:[Object(y.jsx)("div",{className:"title",children:"Latest News"}),Object(y.jsx)(ye,{})]})]})}):Object(y.jsx)(he.a,{animation:"border",role:"status",children:Object(y.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},ke=function(e){var t=e.client,a=e.user,n=e.msgAlert,s=e.setRender;function c(){return(c=Object(l.a)(i.a.mark((function e(t){var c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=confirm("Are you sure you want to delete?"),s(!1),!c){e.next=14;break}return e.prev=3,r=t._id,e.next=7,g(a,r);case 7:s(!0),n({heading:"Done!",variant:"success"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),n({heading:"Failed!",message:"Please try again",variant:"danger"});case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}return Object(y.jsx)("div",{className:"deleteButton",onClick:function(){return function(e){return c.apply(this,arguments)}(t)},children:"Delete"})};function Re(e){var t=e.user,a=e.clients,n=e.setRender,s=e.msgAlert;return Object(y.jsx)(X.a,{component:te.a,className:"table",children:Object(y.jsxs)(H.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(y.jsx)(Z.a,{children:Object(y.jsxs)(ee.a,{children:[Object(y.jsx)(V.a,{className:"tableCell",size:"small",children:"Company Name"}),Object(y.jsx)(V.a,{className:"tableCell",align:"right",size:"small",children:"Industry"}),Object(y.jsx)(V.a,{className:"tableCell",align:"right",size:"small",children:"Actions"})]})}),Object(y.jsx)(Q.a,{children:a.map((function(e){return Object(y.jsxs)(ee.a,{children:[Object(y.jsx)(S.b,{to:"/clients/".concat(e._id),children:Object(y.jsx)(V.a,{children:Object(y.jsxs)("div",{className:"cellWrapper",children:[Object(y.jsx)("img",{src:"https://logo.clearbit.com/".concat(e.name,".com"),alt:"",className:"image"}),e.name]})})}),Object(y.jsx)(V.a,{align:"right",children:e.industry}),Object(y.jsx)(V.a,{align:"right",children:Object(y.jsxs)("div",{className:"cellAction",children:[Object(y.jsx)(S.b,{to:"/clients/".concat(e._id,"/edit"),children:Object(y.jsx)("div",{className:"viewButton",children:"Edit"})}),Object(y.jsx)(ke,{user:t,client:e,msgAlert:s,setRender:n})]})})]},e._id)}))})]})})}a(126);var Be=a(467),De=a(109),Me=a(253),Le=a(134),Ye=function(e){var t=e.data;return Object(y.jsxs)(Be.a,{width:330,height:350,data:t,children:[Object(y.jsx)(de.a,{strokeDasharray:"3 3"}),Object(y.jsx)(le.a,{dataKey:"name"}),Object(y.jsx)(je.a,{}),Object(y.jsx)(oe.a,{}),Object(y.jsx)(De.a,{}),Object(y.jsx)(Me.a,{dataKey:"YTD",fill:"#8884d8",children:Object(y.jsx)(Le.a,{dataKey:"YTD",position:"top"})}),Object(y.jsx)(Me.a,{dataKey:"Budget",fill:"#82ca9d",children:Object(y.jsx)(Le.a,{className:"legendChart",dataKey:"Budget",position:"top"})})]})},ze=function(e){var t=e.clients,a=e.user,n=e.revenueBudget,s=e.setRender,c=e.msgAlert;if(t){var r=function(e){for(var t=0,a=0;a<e.length;a++)for(var n=e[a].loans,s=0;s<n.length;s++){t+=n[s].revenue}return t},i=[{YTD:r(t),Budget:n}];return Object(y.jsx)("div",{className:"overview",children:Object(y.jsxs)("div",{className:"overview-container",children:[Object(y.jsxs)("div",{className:"overview-top",children:[Object(y.jsxs)("div",{className:"header-box",children:[Object(y.jsx)(S.b,{to:"/clients/create",children:Object(y.jsx)("button",{children:"New client"})}),Object(y.jsxs)("p",{children:["Total revenue is: ",r(t)]})]}),Object(y.jsxs)("div",{className:"chart",children:[Object(y.jsx)("div",{className:"title",children:"YTD Revenue vs Budget ($MM)"}),i&&Object(y.jsx)(Ye,{data:i})]})]}),Object(y.jsxs)("div",{className:"overview-table",children:[Object(y.jsx)("div",{className:"title",children:"Clients List "}),Object(y.jsx)(Re,{user:a,clients:t,setRender:s,msgAlert:c})]})]})})}return Object(y.jsx)(he.a,{animation:"border",role:"status",children:Object(y.jsx)("span",{className:"visually-hidden",children:"Loading..."})})};function Te(e){var t=e.loans;return Object(y.jsx)(X.a,{component:te.a,className:"table",children:Object(y.jsxs)(H.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(y.jsx)(Z.a,{children:Object(y.jsxs)(ee.a,{children:[Object(y.jsx)(V.a,{className:"tableCell",size:"small",children:"Loan Type"}),Object(y.jsx)(V.a,{className:"tableCell",align:"right",size:"small",children:"Closing Date"}),Object(y.jsxs)(V.a,{className:"tableCell",align:"right",size:"small",children:["Credit Limit ",Object(y.jsx)("span",{className:"amountStyle",children:"($MM)"})]}),Object(y.jsx)(V.a,{className:"tableCell",align:"right",size:"small",children:"Status"})]})}),Object(y.jsx)(Q.a,{children:t.map((function(e){return Object(y.jsxs)(ee.a,{children:[Object(y.jsx)(V.a,{children:e.description}),Object(y.jsx)(V.a,{align:"right",children:e.month}),Object(y.jsx)(V.a,{align:"right",children:e.amount}),Object(y.jsx)(V.a,{size:"small",align:"right",children:Object(y.jsx)("span",{className:"status ".concat(e.status),children:e.status})})]},e._id)}))})]})})}var Fe=function(e){var t=e.borrower,a=Object(n.useState)([]),s=Object(d.a)(a,2),c=s[0],r=s[1];if(Object(n.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://newsapi.org/v2/everything?sources=bloomberg&y&q="+t.name+"&sortBy=popularity&language=en&pageSize=10&apiKey=cc12a9a486d746b590e2849b48b94bb1");case 2:a=e.sent,r(a.data.articles);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!c)return Object(y.jsx)(he.a,{animation:"border",role:"status",children:Object(y.jsx)("span",{className:"visually-hidden",children:"Loading..."})});var j=[],o=[];return function(e){var t=c.map((function(e){return e.title}));j.push(t);var a=c.map((function(e){return e.publishedAt}));o.push(a)}(),Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(we,{data:c})})},Ee=function(e){var t=e.user,a=e.msgAlert,s=e.render,c=e.setRender,r=Object(n.useState)(null),j=Object(d.a)(r,2),o=j[0],u=j[1],b=Object(f.h)().borrowerId;if(Object(n.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(b);case 3:t=e.sent,u(t.data.client),c(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a({heading:"Failed!",message:e.t0.message,variant:"danger"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[s]),o){var h=o.loans.reduce((function(e,t){return e+t.amount}),0),m=[{name:"Total Credit Limits",YTD:h,Budget:o.creditLimit}];return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:"overview",children:Object(y.jsxs)("div",{className:"overview-container",children:[Object(y.jsxs)("div",{className:"overview-top",children:[Object(y.jsxs)("div",{className:"header-box",children:[Object(y.jsxs)("div",{className:"companyHeader",children:[Object(y.jsx)("img",{src:"https://logo.clearbit.com/".concat(o.name,".com"),alt:"",className:"image"}),Object(y.jsx)("h1",{children:o.name}),Object(y.jsx)("div",{className:"actions",children:Object(y.jsxs)("div",{className:"cellAction",children:[Object(y.jsx)(S.b,{to:"/clients/".concat(o._id,"/edit"),children:Object(y.jsx)("div",{className:"viewButton",children:"Edit"})}),Object(y.jsx)(ke,{user:t,client:o,msgAlert:a,setRender:c})]})}),Object(y.jsx)("div",{className:"add-loan",children:Object(y.jsx)(S.b,{to:"/loans/create",children:Object(y.jsx)("button",{children:"New loan"})})})]}),Object(y.jsxs)("div",{className:"companyMetrics",children:[Object(y.jsxs)("ul",{children:["Industry: ",o.industry]}),Object(y.jsxs)("ul",{children:["Total loans outstanding: ",Object(y.jsx)("span",{children:"$"}),h,Object(y.jsx)("span",{children:"MM"})]}),Object(y.jsxs)("ul",{children:["Credit Authorization: ",Object(y.jsx)("span",{children:"$"}),o.creditLimit,Object(y.jsx)("span",{children:"MM"})]})]}),Object(y.jsx)("div",{className:"title",children:"Transactions List"}),Object(y.jsx)(Te,{loans:o.loans})]}),Object(y.jsxs)("div",{className:"chart",children:[Object(y.jsx)("div",{className:"title",children:"YTD Revenue vs Budget ($MM)"}),Object(y.jsx)(Ye,{data:m})]})]}),Object(y.jsxs)("div",{className:"listContainer",children:[Object(y.jsx)("div",{className:"title",children:"Latest News"}),Object(y.jsx)(Fe,{borrower:o})]})]})})})}return Object(y.jsx)(he.a,{animation:"border",role:"status",children:Object(y.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},Pe=a(16),Ie=a(4),_e=function(e){var t=e.data,a=e.handleChange,n=e.handleCreate;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:"overview",children:Object(y.jsx)("div",{className:"overview-container create",children:Object(y.jsxs)("div",{className:"overview-table",children:[Object(y.jsx)("div",{className:"title",children:"Add a new client"}),Object(y.jsx)("form",{className:"create-client-form",onSubmit:n,children:Object(y.jsxs)("div",{className:"create-client-item",children:[t.map((function(e){return Object(y.jsx)("div",{children:Object(y.jsx)("input",{type:"text",placeholder:e.placeholder,name:e.property,value:e.value,onChange:a})},e.id)})),Object(y.jsx)("button",{className:"button",type:"submit",children:"Create"})]})})]})})})})},Ue=function(e){var t=e.user,a=e.setRender,s=e.msgAlert,c=Object(n.useState)({name:"",industry:"",creditLimit:""}),r=Object(d.a)(c,2),j=r[0],o=r[1],u=Object(n.useState)(!1),b=Object(d.a)(u,2),h=b[0],m=b[1],O=function(){var e=Object(l.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,a(!1),m(!1),e.next=6,v(t,j);case 6:m(!0),a(!0),s({heading:"Client created",variant:"success"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),s({heading:"Failed",message:"Please try again",variant:"danger"});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();if(h)return Object(y.jsx)(f.a,{to:"/clients"});var x=[{id:1,property:"name",value:"".concat(j.name),placeholder:"Company  Name"},{id:2,property:"industry",value:"".concat(j.industry),placeholder:"Industry"},{id:3,property:"creditLimit",value:"".concat(j.creditLimit),placeholder:"Credit Limit"}];return Object(y.jsx)(_e,{data:x,handleChange:function(e){o(Object(Ie.a)(Object(Ie.a)({},j),{},Object(Pe.a)({},e.target.name,e.target.value)))},handleCreate:O})},$e=function(e){var t=e.msgAlert,a=e.user,n=e.setUser;return a?Object(y.jsx)("div",{children:Object(y.jsx)(S.b,{to:"/account/change-password",children:"Change password"})}):Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"app-container",children:[Object(y.jsx)("div",{className:"container-box",children:Object(y.jsxs)("div",{className:"auth-form",children:[Object(y.jsx)("div",{className:"title",children:"Sign In"}),Object(y.jsx)(J,{msgAlert:t,setUser:n})]})}),Object(y.jsx)("div",{className:"container-box",children:Object(y.jsxs)("div",{className:"auth-form",children:[Object(y.jsx)("div",{className:"title",children:"Sign Up"}),Object(y.jsx)($,{msgAlert:t,setUser:n})]})})]})})},Je=(a(161),function(e){var t=e.clients,a=e.user,s=e.render,c=e.creditBudget,r=e.setRender,j=e.msgAlert,o=e.selectClient,u=e.setSelectClient,b=Object(n.useState)(null),h=Object(d.a)(b,2),m=h[0],x=h[1];if(Object(n.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O();case 3:t=e.sent,x(t.data.clients),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),j({heading:"Failed!",message:e.t0.message,variant:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[s]),m){var v=function(e){for(var t=0,a=0;a<e.length;a++)for(var n=e[a].loans,s=0;s<n.length;s++){t+=n[s].amount}return t},p=[{YTD:v(t),Budget:c}];return Object(y.jsx)("div",{className:"overview",children:Object(y.jsxs)("div",{className:"overview-container",children:[Object(y.jsx)("div",{className:"titleBox",children:Object(y.jsx)("div",{className:"overview-title"})}),Object(y.jsxs)("div",{className:"overview-top",children:[Object(y.jsxs)("div",{className:"header-box",children:[Object(y.jsxs)("p",{children:["Total loans: ",v(t)]}),Object(y.jsx)(S.b,{to:"/loans/create",children:Object(y.jsx)("button",{children:"New loan"})})]}),Object(y.jsxs)("div",{className:"chart",children:[Object(y.jsx)("div",{className:"title",children:"Current Limits vs Budget ($MM)"}),p&&Object(y.jsx)(Ye,{data:p})]})]}),Object(y.jsxs)("div",{className:"overview-table",children:[Object(y.jsx)("div",{className:"title",children:"Transactions List "}),Object(y.jsx)(ce,{clients:t,user:a,setRender:r,msgAlert:j,selectClient:o,setSelectClient:u})]})]})})}return Object(y.jsx)(he.a,{animation:"border",role:"status",children:Object(y.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),Ke=a(141),We=function(e){var t=e.data,a=e.handleChange,n=e.handleCreate,s=e.loan,c=e.setLoan,r=e.clients.map((function(e){return{value:"".concat(e._id),label:"".concat(e.name)}}));return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("form",{onSubmit:n,children:Object(y.jsxs)("div",{className:"create-client-item",children:[Object(y.jsx)(Ke.a,{placeholder:"Select Borrower",options:r,onChange:function(e){c(Object(Ie.a)(Object(Ie.a)({},s),{},{borrowerId:e.value}))}}),t.map((function(e){return Object(y.jsx)("div",{children:Object(y.jsx)("input",{type:"text",placeholder:e.placeholder,name:e.property,value:e.value,onChange:a})},e.id)})),Object(y.jsx)(Ke.a,{placeholder:"Approval Status",options:[{value:"Approved",label:"Approved"},{value:"Pending",label:"Pending"}],onChange:function(e){c(Object(Ie.a)(Object(Ie.a)({},s),{},{status:e.value}))}}),Object(y.jsx)(Ke.a,{placeholder:"Closing Month",options:[{value:"Jan",label:"January"},{value:"Feb",label:"February"},{value:"Mar",label:"March"},{value:"Apr",label:"April"},{value:"May",label:"May"},{value:"Jun",label:"June"},{value:"Jul",label:"July"},{value:"Aug",label:"August"},{value:"Sep",label:"September"},{value:"Oct",label:"October"},{value:"Nov",label:"November"},{value:"Dec",label:"December"}],onChange:function(e){c(Object(Ie.a)(Object(Ie.a)({},s),{},{month:e.value}))}}),Object(y.jsx)("button",{className:"button",type:"submit",children:"Create"})]})})})},qe=function(e){var t=e.user,a=e.updateMode,s=e.selectClient,c=e.clients,r=e.setRender,j=e.msgAlert,o=Object(n.useState)({description:"",amount:"",month:"",borrowerId:"",revenue:"",status:""}),u=Object(d.a)(o,2),b=u[0],h=u[1];a&&h(s);var m=Object(n.useState)(!1),O=Object(d.a)(m,2),x=O[0],v=O[1],p=function(){var e=Object(l.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,v(!1),e.next=5,ae(t,b);case 5:r(!0),v(!0),j({heading:"Loan created",variant:"success"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),j({heading:"Operation failed",message:e.t0.message,variant:"danger"});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();if(x)return Object(y.jsx)(f.a,{to:"/loans"});var g=[{id:1,property:"description",value:"".concat(b.description),placeholder:"Loan Type"},{id:2,property:"amount",value:"".concat(b.amount),placeholder:"Loan Amount ($MM)"},{id:3,property:"revenue",value:"".concat(b.revenue),placeholder:"Revenue ($MM)"}];return Object(y.jsx)("div",{className:"overview",children:Object(y.jsx)("div",{className:"overview-container create",children:Object(y.jsxs)("div",{className:"overview-table",children:[Object(y.jsx)("div",{className:"title",children:"Add a new loan"}),Object(y.jsx)(We,{user:t,data:g,handleChange:function(e){h(Object(Ie.a)(Object(Ie.a)({},b),{},Object(Pe.a)({},e.target.name,e.target.value)))},handleCreate:p,setLoan:h,loan:b,clients:c,selectClient:s})]})})})},Ge=function(e){return m.a.get("".concat(b,"/budget/").concat(e))},He=function(e,t,a){return m.a.post("".concat(b,"/budget/"),{budget:{type:e,amount:t}},{headers:{Authorization:"Bearer ".concat(a.token)}})},Qe=function(e,t){return m.a.patch("".concat(b,"/budget/").concat(e),{budget:{amount:t}})},Ve=function(e){var t=e.budgets;return Object(y.jsx)(X.a,{component:te.a,className:"table",children:Object(y.jsxs)(H.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(y.jsx)(Z.a,{children:Object(y.jsxs)(ee.a,{children:[Object(y.jsx)(V.a,{className:"tableCell",size:"small",children:"Budget Category"}),Object(y.jsxs)(V.a,{className:"tableCell",align:"right",size:"small",children:["Amount  ",Object(y.jsx)("span",{className:"amountStyle",children:"($MM)"})]}),Object(y.jsx)(V.a,{className:"tableCell",align:"right",size:"small",children:"Actions"})]})}),Object(y.jsx)(Q.a,{children:t.map((function(e){return Object(y.jsxs)(ee.a,{children:[Object(y.jsx)(V.a,{children:e.type}),Object(y.jsx)(V.a,{align:"right",children:e.amount}),Object(y.jsx)(V.a,{align:"right",children:Object(y.jsx)("div",{className:"cellAction",children:Object(y.jsx)(S.b,{to:"/budget/".concat(e._id),children:Object(y.jsx)("div",{className:"viewButton",children:"Edit"})})})})]},e._id)}))})]})})},Xe=function(e){var t=e.user,a=e.msgAlert,s=e.budgets,c=e.revenueBudget,r=e.creditBudget;if(!s)return Object(y.jsx)(f.a,{to:"/"});var j=Object(n.useState)(),o=Object(d.a)(j,2),u=o[0],b=o[1],h=Object(n.useState)(),m=Object(d.a)(h,2),O=m[0],x=m[1],v=function(){var e=Object(l.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,He(O,u,t);case 4:a({heading:"Done!",variant:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a({heading:"Failed!",message:e.t0.message,variant:"danger"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)("div",{className:"overview",children:Object(y.jsx)("div",{className:"overview-container",children:Object(y.jsxs)("div",{className:"overview-table",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"Add Revenue Budget"}),Object(y.jsxs)("form",{onSubmit:v,children:[Object(y.jsx)("input",{placeholder:"type",name:"revenue",type:"text",value:O,onChange:function(e){return x(e.target.value)}}),Object(y.jsx)("input",{placeholder:"amount",name:"revenue",type:"text",value:u,onChange:function(e){return b(e.target.value)}}),Object(y.jsx)("button",{type:"submit",children:"create"})]})]}),Object(y.jsx)("div",{className:"title",children:"Budget List "}),Object(y.jsx)(Ve,{budgets:s,revenueBudget:c,creditBudget:r})]})})})},Ze=a(171),et=a.n(Ze),tt=(a(443),a(250)),at=a.n(tt),nt=a(251),st=a.n(nt);var ct=function(e){var t=e.data,a=Object(n.useState)([]),s=Object(d.a)(a,2),c=s[0],r=s[1],i=Object(n.useState)(""),l=Object(d.a)(i,2),j=l[0],o=l[1],u=function(){r([]),o("")};return Object(y.jsxs)("div",{className:"search",children:[Object(y.jsxs)("div",{className:"input-container",children:[Object(y.jsx)("input",{type:"text",placeholder:"Search client...",value:j,onChange:function(e){var a=e.target.value;o(a);var n=t.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())}));r(""===a?[]:n)}}),Object(y.jsx)("div",{className:"search-icon",children:0===c.length?Object(y.jsx)(at.a,{}):Object(y.jsx)(st.a,{id:"clearBtn",onClick:u})})]}),0!==c.length&&Object(y.jsx)("div",{className:"dataResult",children:c.slice(0,15).map((function(e,t){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(S.b,{to:"/clients/".concat(e._id),target:"_blank",rel:"noopener noreferrer",onClick:u,children:Object(y.jsxs)("p",{children:[e.name," "]})})})}))})]})},rt=function(e){var t=e.user,a=e.clients,n=Object(y.jsx)("div",{className:"signed-in-menu",children:Object(y.jsxs)(S.b,{to:"/account/sign-out",children:[Object(y.jsx)(et.a,{className:"icon"})," Sign Out"]})});return Object(y.jsxs)("div",{className:"top-bar",children:[Object(y.jsx)("div",{className:"search-bar",children:Object(y.jsx)(ct,{data:a})}),Object(y.jsxs)("div",{className:"user-register",children:[t&&Object(y.jsx)("span",{children:t.email}),t&&n,!t&&Object(y.jsxs)(S.b,{to:"/account",children:[Object(y.jsx)(et.a,{className:"icon"})," Register/Log in"]})]}),Object(y.jsx)("div",{className:"item"})]})},it=function(e){var t=e.render,a=e.setRender,s=e.msgAlert,c=Object(f.h)().budgetId,r=Object(n.useState)(""),j=Object(d.a)(r,2),o=j[0],u=j[1],b=Object(n.useState)(""),h=Object(d.a)(b,2),m=h[0],O=h[1];Object(n.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!1),e.prev=1,e.next=4,Ge(c);case 4:t=e.sent,u(t.data.budget),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({heading:"Failed!",message:"Please try again",variant:"danger"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var x=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a(!1),e.next=5,Qe(c,m);case 5:a(!0),s({heading:"Done!",variant:"success"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),s({heading:"Failed!",message:"Please try again",variant:"danger"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return t?Object(y.jsx)(f.a,{to:"/budget"}):Object(y.jsx)("div",{className:"overview",children:Object(y.jsx)("div",{className:"overview-container create",children:Object(y.jsxs)("div",{className:"overview-table",children:[Object(y.jsxs)("div",{className:"title",children:["Update ",o.type]}),Object(y.jsxs)("form",{className:"create-client-form",onSubmit:x,children:[Object(y.jsx)("input",{type:"text",placeholder:"Type new amount",name:"amount",value:m,onChange:function(e){return O(e.target.value)}}),Object(y.jsx)("button",{className:"button",type:"submit",children:"Update"})]})]})})})},lt=function(e){e.user;var t=e.msgAlert,a=e.render,s=e.setRender,c=Object(f.h)().borrowerId,r=Object(n.useState)(""),j=Object(d.a)(r,2),o=j[0],u=j[1],b=Object(n.useState)(""),h=Object(d.a)(b,2),m=h[0],O=h[1],x=Object(n.useState)(""),v=Object(d.a)(x,2),g=v[0],N=v[1];s(!1);var w=function(){var e=Object(l.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,p(c,0,o,m,g);case 4:t({heading:"Done!",variant:"success"}),s(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({heading:"Failed!",message:e.t0.message,variant:"danger"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return a?Object(y.jsx)(f.a,{to:"/clients"}):Object(y.jsx)("div",{className:"overview",children:Object(y.jsx)("div",{className:"overview-container create",children:Object(y.jsxs)("div",{className:"overview-table",children:[Object(y.jsx)("div",{className:"title",children:"Edit client details"}),Object(y.jsxs)("form",{className:"create-client-form",onSubmit:w,children:[Object(y.jsx)("input",{type:"text",placeholder:"Edit name",name:"amount",value:o,onChange:function(e){return u(e.target.value)}}),Object(y.jsx)("input",{type:"text",placeholder:"Edit industry",name:"amount",value:m,onChange:function(e){return O(e.target.value)}}),Object(y.jsx)("input",{type:"text",placeholder:"Edit credit limit",name:"amount",value:g,onChange:function(e){return N(e.target.value)}}),Object(y.jsx)("button",{className:"button",type:"submit",children:"Update"})]})]})})})},jt=function(e){e.user,e.client;var t=e.msgAlert,a=(e.setRender,e.selectClient),s=(e.setSelectClient,Object(n.useState)(null)),c=Object(d.a)(s,2),r=c[0],j=c[1],o=Object(f.h)().loanId;if(console.log("loanId is",o),!a)return Object(y.jsx)(f.a,{to:"/"});var u=a._id;return Object(n.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("loan id is",o),console.log("borrower id is",u),e.next=5,se(o,u);case 5:a=e.sent,j(a.data.loan),console.log("res is",a),console.log("loan to update is",r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({heading:"Failed to load",message:e.t0.message,variant:"danger"});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("loan is",r),console.log("selectClient  from loanEdit state is",a),Object(y.jsx)("div",{children:"Edit"})},dt=function(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)([]),r=Object(d.a)(c,2),o=r[0],u=r[1],h=Object(n.useState)([]),x=Object(d.a)(h,2),v=x[0],p=x[1],g=Object(n.useState)([]),w=Object(d.a)(g,2),S=w[0],A=w[1],k=Object(n.useState)(!1),R=Object(d.a)(k,2),B=R[0],D=R[1],M=Object(n.useState)(null),L=Object(d.a)(M,2),Y=L[0],z=L[1],T=Object(n.useState)(null),F=Object(d.a)(T,2),P=F[0],I=F[1],_=Object(n.useState)(null),U=Object(d.a)(_,2),W=U[0],q=U[1],H=Object(n.useState)(null),Q=Object(d.a)(H,2),V=Q[0],X=Q[1],Z=function(e){var t=e.heading,a=e.message,n=e.variant,s=Object(N.a)();u((function(e){return[].concat(Object(j.a)(e),[{heading:t,message:a,variant:n,id:s}])}))};return Object(n.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O();case 3:return t=e.sent,A(t.data.clients),e.next=7,m.a.get(b+"/budget");case 7:a=e.sent,q(a.data.budget),I(a.data.budget[0].amount),z(a.data.budget[1].amount),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),Z({heading:"Failed to load",message:e.t0.message,variant:"danger"});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}})()()}),[B]),Object(y.jsxs)("div",{className:"app",children:[Object(y.jsx)(E,{}),Object(y.jsxs)("div",{className:"app-container",children:[Object(y.jsx)(rt,{user:a,clients:S,render:B}),o.map((function(e){return Object(y.jsx)(C,{heading:e.heading,variant:e.variant,message:e.message,id:e.id},e.id)})),Object(y.jsxs)(f.d,{children:[Object(y.jsxs)(f.b,{path:"/account/",children:[Object(y.jsx)(f.b,{index:!0,element:Object(y.jsx)($e,{msgAlert:Z,user:a,setUser:s})}),Object(y.jsx)(f.b,{path:"sign-up",element:Object(y.jsx)($,{msgAlert:Z,setUser:s})}),Object(y.jsx)(f.b,{path:"sign-in",element:Object(y.jsx)(J,{msgAlert:Z,setUser:s})}),Object(y.jsx)(f.b,{path:"change-password",element:Object(y.jsx)(G,{msgAlert:Z,user:a})}),Object(y.jsx)(f.b,{path:"sign-out",element:Object(y.jsx)(K,{msgAlert:Z,clearUser:function(){return s(null)},user:a})})]}),Object(y.jsxs)(f.b,{path:"/clients/",children:[Object(y.jsx)(f.b,{index:!0,element:Object(y.jsx)(ze,{msgAlert:Z,clients:S,user:a,setRender:D,revenueBudget:Y})}),Object(y.jsx)(f.b,{path:":borrowerId",element:Object(y.jsx)(Ee,{user:a,render:B,setRender:D,msgAlert:Z})}),Object(y.jsx)(f.b,{path:":borrowerId/edit",element:Object(y.jsx)(lt,{user:a,render:B,setRender:D,msgAlert:Z})}),Object(y.jsx)(f.b,{path:"create",element:Object(y.jsx)(Ue,{user:a,setRender:D,msgAlert:Z})})]}),Object(y.jsxs)(f.b,{path:"/loans/",children:[Object(y.jsx)(f.b,{index:!0,element:Object(y.jsx)(Je,{clients:S,user:a,setRender:D,render:B,creditBudget:P,msgAlert:Z,selectClient:V,setSelectClient:X})}),Object(y.jsx)(f.b,{path:"create",element:Object(y.jsx)(qe,{user:a,clients:S,msgAlert:Z,setRender:D})}),Object(y.jsx)(f.b,{path:":loanId",element:Object(y.jsx)(jt,{user:a,clients:S,msgAlert:Z,setRender:D,selectClient:V,setSelectClient:X})})]}),Object(y.jsx)(f.b,{path:"/",element:Object(y.jsx)(Ae,{clients:S,RevChartData:v,setRevChartData:p,revenueBudget:Y,user:a,msgAlert:Z,setRender:D,setSelectClient:X})}),Object(y.jsxs)(f.b,{path:"/budget/",children:[Object(y.jsx)(f.b,{index:!0,element:Object(y.jsx)(Xe,{user:a,budgets:W,msgAlert:Z,revenueBudget:Y,setRevenueBudget:z,creditBudget:P,setCreditBudget:I,setBudgets:q})}),Object(y.jsx)(f.b,{path:":budgetId",element:Object(y.jsx)(it,{render:B,setRender:D,msgAlert:Z})})]})]})]})]})},ot=Object(y.jsx)(S.a,{basename:"/bankbook",children:Object(y.jsx)(dt,{})});c.a.render(ot,document.getElementById("root"))}},[[444,1,2]]]);
//# sourceMappingURL=main.a56ace2e.chunk.js.map