(this["webpackJsonppassbook-client"]=this["webpackJsonppassbook-client"]||[]).push([[0],{124:function(e,t,a){},145:function(e,t,a){},158:function(e,t,a){},183:function(e,t,a){},262:function(e,t,a){},281:function(e,t,a){},288:function(e,t,a){},289:function(e,t,a){},423:function(e,t,a){},424:function(e,t,a){},425:function(e,t,a){},440:function(e,t,a){},441:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(45),c=a.n(n),r=(a(262),a(13)),i=a.n(r),l=a(23),j=a(36),d=a(3),o="https://vast-island-10150.herokuapp.com",u="http://localhost:4741",b="localhost"===window.location.hostname?u:o,h=a(29),m=a.n(h),O=function(){return m.a.get(b+"/clients")},x=function(e){return m.a.get("".concat(b,"/clients/").concat(e))},v=function(e,t){return m.a.post(b+"/clients",{client:t},{headers:{Authorization:"Bearer ".concat(e.token)}})},p=function(e,t,a,s,n){return m.a.patch("".concat(b,"/clients/").concat(e,"/edit"),{client:{name:a,industry:s,creditLimit:n}})},g=function(e,t){return m.a.delete("".concat(b,"/clients/").concat(t),{headers:{Authorization:"Bearer ".concat(e.token)}})},f=function(e){return m.a.get("".concat(b,"/budget/").concat(e))},N=function(e,t){return m.a.patch("".concat(b,"/budget/").concat(e),{budget:{amount:t}})},y=a(19),w=a(466),C=(a(281),a(169)),S=a(1);var A=function(e){var t=e.variant,a=e.heading,n=e.message,c=Object(s.useState)(!0),r=Object(d.a)(c,2),i=r[0],l=r[1],j=Object(s.useState)(null),o=Object(d.a)(j,2),u=o[0],b=o[1];return Object(s.useEffect)((function(){var e=setTimeout((function(){return l(!1)}),5e3);return b(e),function(){clearTimeout(u)}}),[]),Object(S.jsx)(C.a,{variant:t,onClose:function(){return l(!1)},dismissible:!0,show:i,children:Object(S.jsxs)("div",{className:"container",children:[Object(S.jsx)(C.a.Heading,{children:a}),Object(S.jsx)("p",{className:"alert-body",children:n})]})})},k=(a(183),a(17)),R=a(220),M=a.n(R),B=a(222),L=a.n(B),D=a(223),Y=a.n(D),z=a(224),T=a.n(z),F=a(225),U=a.n(F);var $=function(e){var t=e.user;return Object(S.jsxs)("div",{className:"sidebar",children:[Object(S.jsx)("div",{className:"logo",children:"PASSBOOK"}),Object(S.jsx)("div",{className:"links",children:Object(S.jsxs)("ul",{children:[Object(S.jsx)(k.c,{to:"/",children:Object(S.jsxs)("li",{children:[Object(S.jsx)(M.a,{className:"icon"}),Object(S.jsx)("span",{children:"Dashboard"})]})}),Object(S.jsx)(k.c,{to:"/clients/",children:Object(S.jsxs)("li",{children:[Object(S.jsx)(L.a,{className:"icon"}),Object(S.jsx)("span",{children:"Clients"})]})}),Object(S.jsx)(k.c,{to:"/loans/",children:Object(S.jsxs)("li",{children:[Object(S.jsx)(Y.a,{className:"icon"}),Object(S.jsx)("span",{children:"Loans"})]})}),Object(S.jsx)(k.c,{to:"/budget/",children:Object(S.jsxs)("li",{children:[Object(S.jsx)(T.a,{className:"icon"}),Object(S.jsx)("span",{children:"Budget"})]})}),t&&Object(S.jsx)(k.c,{to:"/account/",children:Object(S.jsxs)("li",{children:[Object(S.jsx)(U.a,{className:"icon"}),Object(S.jsx)("span",{children:"Account"})]})})]})})]})},P=function(e,t,a){return m.a.post(b+"/sign-up/",{credentials:{email:e,password:t,password_confirmation:a}})},E=function(e,t){return m.a.post(b+"/sign-in/",{credentials:{email:e,password:t}})},I=function(e){return m.a.delete(b+"/sign-out/",{headers:{Authorization:"Bearer ".concat(e.token)}})},_=function(e,t,a){return m.a.patch(b+"/change-password/",{passwords:{old:e,new:t}},{headers:{Authorization:"Bearer ".concat(a.token)}})},J=function(e){var t=e.msgAlert,a=e.setUser,n=Object(s.useState)(""),c=Object(d.a)(n,2),r=c[0],j=c[1],o=Object(s.useState)(""),u=Object(d.a)(o,2),b=u[0],h=u[1],m=Object(s.useState)(""),O=Object(d.a)(m,2),x=O[0],v=O[1],p=Object(s.useState)(!1),g=Object(d.a)(p,2),f=g[0],N=g[1],w=function(){var e=Object(l.a)(i.a.mark((function e(s){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,P(r,b,x);case 4:return e.next=6,E(r,b);case 6:n=e.sent,a(n.data.user),t({heading:"Sign Up Success",message:"Succesfully registered! You've been signed in as well.",variant:"success"}),N(!0),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(1),j(""),h(""),v(""),t({heading:"Sign Up Failed with error: "+e.t0.message,message:"Registration failed. Email may be taken, or passwords don't match.",variant:"danger"});case 18:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return f?Object(S.jsx)(y.a,{to:"/"}):Object(S.jsx)("div",{className:"fill-form",children:Object(S.jsxs)("form",{onSubmit:w,children:[Object(S.jsx)("div",{className:"email",children:Object(S.jsx)("input",{required:!0,type:"email",name:"email",value:r,placeholder:"Enter email",onChange:function(e){return j(e.target.value)}})}),Object(S.jsx)("div",{className:"password",children:Object(S.jsx)("input",{required:!0,name:"password",value:b,type:"password",placeholder:"Password",onChange:function(e){return h(e.target.value)}})}),Object(S.jsx)("div",{className:"password",children:Object(S.jsx)("input",{required:!0,name:"passwordConfirmation",value:x,type:"password",placeholder:"Confirm Password",onChange:function(e){return v(e.target.value)}})}),Object(S.jsx)("button",{type:"submit",children:"Submit"})]})})},K=(a(145),function(e){var t=e.msgAlert,a=e.setUser,n=Object(s.useState)(""),c=Object(d.a)(n,2),r=c[0],j=c[1],o=Object(s.useState)(""),u=Object(d.a)(o,2),b=u[0],h=u[1],m=Object(s.useState)(!1),O=Object(d.a)(m,2),x=O[0],v=O[1],p=function(){var e=Object(l.a)(i.a.mark((function e(s){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,E(r,b);case 4:n=e.sent,a(n.data.user),t({heading:"Sign In Success",message:"Welcome!",variant:"success"}),v(!0),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),j(""),h(""),t({heading:"Sign In Failed with error: "+e.t0.message,message:"Failed to sign in. Check your email and password and try again.",variant:"danger"});case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return x?Object(S.jsx)(y.a,{to:"/"}):Object(S.jsx)("div",{className:"fill-form",children:Object(S.jsxs)("form",{onSubmit:p,children:[Object(S.jsx)("div",{className:"email",children:Object(S.jsx)("input",{required:!0,type:"email",name:"email",value:r,placeholder:"Enter email",onChange:function(e){return j(e.target.value)}})}),Object(S.jsx)("div",{className:"password",children:Object(S.jsx)("input",{required:!0,name:"password",value:b,type:"password",placeholder:"Password",onChange:function(e){return h(e.target.value)}})}),Object(S.jsx)("button",{type:"submit",children:"Submit"})]})})}),W=function(e){var t=e.msgAlert,a=e.clearUser,n=e.user,c=Object(s.useState)(!1),r=Object(d.a)(c,2),j=r[0],o=r[1];return Object(s.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(n);case 2:t({heading:"Signed Out Successfully",message:"Come back soon!",variant:"success"}),a(),o(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!n||j?Object(S.jsx)(y.a,{to:"/"}):""},q=function(e){var t=e.msgAlert,a=e.user,n=Object(s.useState)(""),c=Object(d.a)(n,2),r=c[0],j=c[1],o=Object(s.useState)(""),u=Object(d.a)(o,2),b=u[0],h=u[1],m=Object(s.useState)(!1),O=Object(d.a)(m,2),x=O[0],v=O[1],p=function(){var e=Object(l.a)(i.a.mark((function e(s){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,_(r,b,a);case 4:t({heading:"Change Password Success",message:"Password changed successfully!",variant:"success"}),v(!0),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),j(""),h(""),t({heading:"Change Password Failed with error: "+e.t0.message,message:"Failed to change passwords. Check your old password and try again.",variant:"danger"});case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return x?Object(S.jsx)(y.a,{to:"/"}):(console.log("user is",a),Object(S.jsx)("div",{className:"fill-form",children:Object(S.jsxs)("form",{onSubmit:p,children:[Object(S.jsx)("div",{className:"email",children:Object(S.jsx)("input",{required:!0,name:"oldPassword",value:r,type:"password",placeholder:"Old Password",onChange:function(e){return j(e.target.value)}})}),Object(S.jsx)("div",{className:"password",children:Object(S.jsx)("input",{required:!0,name:"newPassword",value:b,type:"password",placeholder:"New Password",onChange:function(e){return h(e.target.value)}})}),Object(S.jsx)("button",{type:"submit",children:"Submit"})]})}))},G=(a(288),a(470)),H=a(474),Q=a(473),V=a(468),X=a(471),Z=a(472),ee=a(469),te=function(e,t){return m.a.post(b+"/loans/create",{loan:t},{headers:{Authorization:"Bearer ".concat(e.token)}})},ae=function(e,t,a){return m.a.delete("".concat(b,"/loans/").concat(t),{headers:{Authorization:"Bearer ".concat(e.token)},data:{loan:{borrowerId:a}}})};function se(e){var t=e.clients,a=e.user,s=e.setRender,n=e.msgAlert;e.selectClient,e.setSelectClient;function c(){return(c=Object(l.a)(i.a.mark((function e(t,a,c){var r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete?")){e.next=15;break}return e.prev=2,s(!1),r=a._id,l=c._id,e.next=8,ae(t,r,l);case 8:s(!0),n({heading:"Transaction deleted",variant:"success"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n({heading:"Failed",message:"Make sure you are logged in before deleting",variant:"danger"});case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}return Object(S.jsx)(V.a,{component:ee.a,className:"table",children:Object(S.jsxs)(G.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(S.jsx)(X.a,{children:Object(S.jsxs)(Z.a,{children:[Object(S.jsx)(Q.a,{className:"tableCell",size:"small",children:"Description Name"}),Object(S.jsx)(Q.a,{className:"tableCell",size:"small",children:"Company Name"}),Object(S.jsxs)(Q.a,{className:"tableCell",align:"right",size:"small",children:["Credit Limit ",Object(S.jsx)("span",{className:"amountStyle",children:"($MM)"})]}),Object(S.jsx)(Q.a,{className:"tableCell",align:"right",size:"small",children:"Status"}),Object(S.jsx)(Q.a,{className:"tableCell",align:"right",size:"small",children:"Actions"})]})}),Object(S.jsx)(H.a,{children:t.map((function(e){return e.loans.map((function(t){return Object(S.jsxs)(Z.a,{children:[Object(S.jsx)(Q.a,{children:t.description}),Object(S.jsx)(Q.a,{children:Object(S.jsx)(k.b,{to:"/clients/".concat(e._id),children:Object(S.jsxs)("div",{className:"cellWrapper",children:[Object(S.jsx)("img",{src:"https://logo.clearbit.com/".concat(e.name,".com"),alt:"",className:"image"}),Object(S.jsx)("span",{className:"link",children:e.name})]})})}),Object(S.jsx)(Q.a,{size:"small",align:"right",children:t.amount}),Object(S.jsx)(Q.a,{size:"small",align:"right",children:Object(S.jsx)("span",{className:"status ".concat(t.status),children:t.status})}),Object(S.jsx)(Q.a,{align:"right",children:Object(S.jsx)("div",{className:"cellAction",children:Object(S.jsx)("div",{className:"deleteButton",onClick:function(){return function(e,t,a){return c.apply(this,arguments)}(a,t,e)},children:"Delete"})})})]},t._id)}))}))})]})})}a(289);var ne=a(457),ce=a(458),re=a(132),ie=a(133),le=a(462),je=a(110),de=a(238),oe=function(e){var t=e.aspect,a=e.title,s=e.data;return Object(S.jsxs)("div",{className:"chart",children:[Object(S.jsx)("div",{className:"title",children:a}),Object(S.jsx)(ne.a,{width:"100%",aspect:t,children:Object(S.jsxs)(ce.a,{data:s,margin:{top:10,right:20,left:0,bottom:0},children:[Object(S.jsxs)("defs",{children:[Object(S.jsxs)("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(S.jsx)("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),Object(S.jsx)("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]}),Object(S.jsxs)("linearGradient",{id:"colorPv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(S.jsx)("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.8}),Object(S.jsx)("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0})]})]}),Object(S.jsx)(re.a,{dataKey:"month"}),Object(S.jsx)(ie.a,{}),Object(S.jsx)(le.a,{strokeDasharray:"3 3"}),Object(S.jsx)(je.a,{}),Object(S.jsx)(de.a,{type:"monotone",dataKey:"thisYearRev",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorUv)"}),Object(S.jsx)(de.a,{type:"monotone",dataKey:"pastYearRev",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorPv)"})]})})]})},ue=a(463),be=a(241),he=a.n(be),me=a(240),Oe=(a(422),a(242)),xe=a.n(Oe),ve=a(167),pe=a.n(ve),ge=(a(423),function(e){var t=e.data,a=e.budgetData,s=e.budgetStat;return Object(S.jsxs)("div",{className:"featured",children:[Object(S.jsxs)("div",{className:"top",children:[Object(S.jsx)("h1",{className:"title",children:"Total Revenue to Budget"}),Object(S.jsx)(he.a,{fontSize:"small"})]}),Object(S.jsxs)("div",{className:"bottom",children:[Object(S.jsxs)("div",{className:"featuredChart",children:[Object(S.jsx)(me.a,{className:"circle",value:s.progress,text:"".concat(Math.round(t.toString()),"%"),strokeWidth:5}),"        "]}),Object(S.jsx)("p",{className:"title",children:"YTD Revenue"}),Object(S.jsxs)("p",{className:"amount",children:[Object(S.jsx)("span",{children:"$"}),a.ytdRev,Object(S.jsx)("span",{children:"MM"})]}),Object(S.jsx)("p",{className:"desc"}),Object(S.jsxs)("div",{className:"summary",children:[Object(S.jsxs)("div",{className:"item",children:[Object(S.jsx)("div",{className:"itemTitle",children:"$-to-Budget"}),Object(S.jsxs)("div",{className:"itemResult negative",children:[Object(S.jsx)(xe.a,{fontSize:"small"}),Object(S.jsxs)("div",{className:"resultAmount",children:[Object(S.jsx)("span",{children:"$"}),s.differenceYTD,Object(S.jsx)("span",{children:"MM"})]})]})]}),Object(S.jsxs)("div",{className:"item",children:[Object(S.jsx)("div",{className:"itemTitle",children:"2022 Budget"}),Object(S.jsxs)("div",{className:"itemResult positive",children:[Object(S.jsx)(pe.a,{fontSize:"small"}),Object(S.jsxs)("div",{className:"resultAmount",children:[Object(S.jsx)("span",{children:"$"}),a.thisYearBudget,Object(S.jsx)("span",{children:"MM"})]})]})]}),Object(S.jsxs)("div",{className:"item",children:[Object(S.jsx)("div",{className:"itemTitle",children:"2021 Budget"}),Object(S.jsxs)("div",{className:"itemResult positive",children:[Object(S.jsx)(pe.a,{fontSize:"small"}),Object(S.jsxs)("div",{className:"resultAmount",children:[Object(S.jsx)("span",{children:"$"}),a.lastYearBudget,Object(S.jsx)("span",{children:"MM"})]})]})]})]})]})]})});a(158);function fe(e){var t=e.data;function a(e){var t=new Date(e).getTime(),a=new Date(t).getDate(),s=new Date(t).toLocaleString("default",{month:"short"}),n=new Date(t).getFullYear();return"".concat(s," ").concat(a,", ").concat(n)}return Object(S.jsx)("div",{children:Object(S.jsx)(V.a,{component:ee.a,className:"table",children:Object(S.jsx)(G.a,{sx:{minWidth:650},"aria-label":"simple table",children:Object(S.jsx)(H.a,{children:t.map((function(e){return Object(S.jsxs)(Z.a,{children:[Object(S.jsx)(Q.a,{className:"tableCell",size:"small",children:Object(S.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.title})}),Object(S.jsx)(Q.a,{align:"right",className:"tableCell",size:"small",children:a(e.publishedAt)})]},e.url)}))})})})})}var Ne=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),a=t[0],n=t[1];return Object(s.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://newsapi.org/v2/top-headlines?sources=bloomberg&pageSize=10&apiKey=cc12a9a486d746b590e2849b48b94bb1");case 2:t=e.sent,n(t.data.articles);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),a?Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(fe,{data:a})}):Object(S.jsx)(ue.a,{animation:"border",role:"status",children:Object(S.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},ye=[{month:"Jan",pastYearRev:1},{month:"Feb",pastYearRev:2},{month:"Mar",pastYearRev:3},{month:"Apr",pastYearRev:4.5},{month:"May",pastYearRev:4.5},{month:"Jun",pastYearRev:6},{month:"Jul",pastYearRev:6},{month:"Aug",pastYearRev:6},{month:"Sep",pastYearRev:9},{month:"Oct",pastYearRev:10},{month:"Nov",pastYearRev:11},{month:"Dec",pastYearRev:12}];function we(e){for(var t=0,a=0;a<e.length;a++)for(var s=e[a].loans,n=0;n<s.length;n++){t+=s[n].revenue}return t}function Ce(e){for(var t=[],a=0;a<e.length;a++)for(var s=e[a].loans,n=0;n<s.length;n++){var c=s[n].amount;t.push(c)}return t}function Se(e){for(var t=[],a=0;a<e.length;a++){var s=e[a].creditLimit;t.push(s)}return t}var Ae=function(e){var t=e.revenueBudget,a=e.clients,n=e.revenueChartData,c=e.setRevenueChartData,r=e.user,i=e.msgAlert,l=e.setRender,j=e.setSelectClient,o={thisYearBudget:t,ytdRev:we(a),lastYearBudget:25},u=100*o.ytdRev/o.thisYearBudget,b={progress:u,differenceYTD:o.thisYearBudget-o.ytdRev};return Object(s.useEffect)((function(){var e,t=function(e){for(var t=[],a=0;a<e.length;a++)for(var s=e[a].loans,n=0;n<s.length;n++){var c=s[n];t.push(c)}return t}(a),s=function(e){for(var t=0;t<e.length;t++)ye[t].month===e[t].month&&(ye[t].thisYearRev=e[t].revenue);return ye}(function(e){return e.map((function(e,t,a){if(0===t)return e;var s=a[t-1];return e.revenue+=s.revenue,e}))}((e=t,Array.from(e.reduce((function(e,t){var a=t.month,s=t.revenue;return e.set(a,(e.get(a)||0)+s)}),new Map),(function(e){var t=Object(d.a)(e,2);return{month:t[0],revenue:t[1]}})))));c(s)}),[a]),(n||o)&&a?Object(S.jsx)("div",{className:"screen",children:Object(S.jsxs)("div",{className:"screen-container",children:[Object(S.jsxs)("div",{className:"dashboard-charts",children:[Object(S.jsx)(oe,{className:"container-box revenue-chart",title:"Year-over-Year Revenue ($MM)",aspect:3,data:n}),Object(S.jsx)(ge,{className:"progress-chart",title:"YTD Revenue to Budget",data:u,budgetData:o,budgetStat:b})]}),Object(S.jsxs)("div",{className:"table-box",children:[Object(S.jsx)("div",{className:"title",children:"Latest Transactions"}),Object(S.jsx)(se,{clients:a,user:r,msgAlert:i,setRender:l,setSelectClient:j})]}),Object(S.jsxs)("div",{className:"table-box",children:[Object(S.jsx)("div",{className:"title",children:"Latest News \u26a0\ufe0f requires a business tier to work in production mode \u26a0\ufe0f"}),Object(S.jsx)(Ne,{})]})]})}):Object(S.jsx)(ue.a,{animation:"border",role:"status",children:Object(S.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},ke=function(e){var t=e.client,a=e.user,s=e.msgAlert,n=e.setRender;function c(){return(c=Object(l.a)(i.a.mark((function e(t){var c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=confirm("Are you sure you want to delete?"),n(!1),!c){e.next=14;break}return e.prev=3,r=t._id,e.next=7,g(a,r);case 7:n(!0),s({heading:"Done!",variant:"success"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),s({heading:"Failed!",message:"Please try again",variant:"danger"});case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}return Object(S.jsx)("div",{className:"deleteButton",onClick:function(){return function(e){return c.apply(this,arguments)}(t)},children:"Delete"})};function Re(e){var t=e.user,a=e.clients,s=e.setRender,n=e.msgAlert;return Object(S.jsx)(V.a,{component:ee.a,className:"table",children:Object(S.jsxs)(G.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(S.jsx)(X.a,{children:Object(S.jsxs)(Z.a,{children:[Object(S.jsx)(Q.a,{className:"tableCell",size:"small",children:"Company Name"}),Object(S.jsx)(Q.a,{className:"tableCell",align:"right",size:"small",children:"Industry"}),Object(S.jsxs)(Q.a,{className:"tableCell",align:"right",size:"small",children:["Credit Authorization ",Object(S.jsx)("span",{className:"amountStyle",children:"($MM)"})]}),Object(S.jsx)(Q.a,{className:"tableCell",align:"right",size:"small",children:"Actions"})]})}),Object(S.jsx)(H.a,{children:a.map((function(e){return Object(S.jsxs)(Z.a,{children:[Object(S.jsx)(Q.a,{children:Object(S.jsx)(k.b,{to:"/clients/".concat(e._id),children:Object(S.jsxs)("div",{className:"cellWrapper",children:[Object(S.jsx)("img",{src:"https://logo.clearbit.com/".concat(e.name,".com"),alt:"",className:"image"}),Object(S.jsx)("span",{className:"link",children:e.name})]})})}),Object(S.jsx)(Q.a,{align:"right",children:e.industry}),Object(S.jsx)(Q.a,{align:"right",children:e.creditLimit}),Object(S.jsx)(Q.a,{align:"right",children:Object(S.jsxs)("div",{className:"cellAction",children:[Object(S.jsx)(k.b,{className:"link",to:"/clients/".concat(e._id,"/edit"),children:Object(S.jsx)("div",{className:"viewButton",children:"Edit"})}),Object(S.jsx)(ke,{user:t,client:e,msgAlert:n,setRender:s})]})})]},e._id)}))})]})})}a(124);var Me=a(464),Be=a(108),Le=a(249),De=a(131),Ye=function(e){var t=e.data;return Object(S.jsxs)(Me.a,{width:330,height:260,data:t,children:[Object(S.jsx)(le.a,{strokeDasharray:"3 3"}),Object(S.jsx)(re.a,{dataKey:"name"}),Object(S.jsx)(ie.a,{}),Object(S.jsx)(je.a,{}),Object(S.jsx)(Be.a,{wrapperStyle:{position:"absolute"}}),Object(S.jsx)(Le.a,{dataKey:"YTD",fill:"#8884d8",children:Object(S.jsx)(De.a,{dataKey:"YTD",position:"top"})}),Object(S.jsx)(Le.a,{dataKey:"Budget",fill:"#82ca9d",children:Object(S.jsx)(De.a,{className:"legendChart",dataKey:"Budget",position:"top"})})]})},ze=(a(424),function(e){var t=e.title,a=e.data,s=e.isMoney;return Object(S.jsx)("div",{className:"widget",children:Object(S.jsxs)("div",{className:"left",children:[Object(S.jsx)("span",{className:"title",children:t}),Object(S.jsxs)("span",{className:"counter",children:[s&&"$",a,s&&"MM"]})]})})}),Te=function(e){var t=e.clients,a=e.user,s=e.revenueBudget,n=e.setRender,c=e.msgAlert;if(t){var r=Math.max.apply(Math,Object(j.a)(Se(t))),i=Se(t).length,l=[{YTD:function(e){for(var t=0,a=0;a<e.length;a++)for(var s=e[a].loans,n=0;n<s.length;n++){t+=s[n].revenue}return t}(t),Budget:s,largestCreditLimit:r,numberClients:i}];return Object(S.jsx)("div",{className:"screen",children:Object(S.jsxs)("div",{className:"screen-container",children:[Object(S.jsxs)("div",{className:"screen-top",children:[Object(S.jsxs)("div",{className:"header-box container-box ",children:[Object(S.jsxs)("div",{className:"title-header",children:[Object(S.jsx)("h1",{children:"Clients"}),Object(S.jsx)("div",{className:"add-btn",children:Object(S.jsx)(k.b,{to:"/clients/create",children:Object(S.jsx)("button",{children:"New client"})})})]}),Object(S.jsxs)("div",{className:"widgets",children:[Object(S.jsx)(ze,{title:"Total Revenues",data:l[0].YTD,isMoney:!0}),Object(S.jsx)(ze,{title:"Largest Credit Limit",data:l[0].largestCreditLimit,isMoney:!0}),Object(S.jsx)(ze,{title:"Number of Clients",data:l[0].numberClients,isMoney:!1})]})]}),Object(S.jsxs)("div",{className:"chart container-box",children:[Object(S.jsx)("div",{className:"title",children:"YTD Revenue vs Budget ($MM)"}),l&&Object(S.jsx)(Ye,{data:l})]})]}),Object(S.jsxs)("div",{className:"table-box",children:[Object(S.jsx)("div",{className:"title",children:"Clients List "}),Object(S.jsx)(Re,{user:a,clients:t,setRender:n,msgAlert:c})]})]})})}return Object(S.jsx)(ue.a,{animation:"border",role:"status",children:Object(S.jsx)("span",{className:"visually-hidden",children:"Loading..."})})};function Fe(e){var t=e.loans;return Object(S.jsx)(V.a,{component:ee.a,className:"table",children:Object(S.jsxs)(G.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(S.jsx)(X.a,{children:Object(S.jsxs)(Z.a,{children:[Object(S.jsx)(Q.a,{className:"tableCell",size:"small",children:"Loan Type"}),Object(S.jsx)(Q.a,{className:"tableCell",align:"right",size:"small",children:"Closing Date"}),Object(S.jsxs)(Q.a,{className:"tableCell",align:"right",size:"small",children:["Credit Limit ",Object(S.jsx)("span",{className:"amountStyle",children:"($MM)"})]}),Object(S.jsx)(Q.a,{className:"tableCell",align:"right",size:"small",children:"Status"})]})}),Object(S.jsx)(H.a,{children:t.map((function(e){return Object(S.jsxs)(Z.a,{children:[Object(S.jsx)(Q.a,{children:e.description}),Object(S.jsx)(Q.a,{align:"right",children:e.month}),Object(S.jsx)(Q.a,{align:"right",children:e.amount}),Object(S.jsx)(Q.a,{size:"small",align:"right",children:Object(S.jsx)("span",{className:"status ".concat(e.status),children:e.status})})]},e._id)}))})]})})}var Ue=function(e){var t=e.borrower,a=Object(s.useState)([]),n=Object(d.a)(a,2),c=n[0],r=n[1];if(Object(s.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://newsapi.org/v2/everything?sources=bloomberg&y&q="+t.name+"&sortBy=popularity&language=en&pageSize=10&apiKey=cc12a9a486d746b590e2849b48b94bb1");case 2:a=e.sent,r(a.data.articles);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!c)return Object(S.jsx)(ue.a,{animation:"border",role:"status",children:Object(S.jsx)("span",{className:"visually-hidden",children:"Loading..."})});var j=[],o=[];return function(e){var t=c.map((function(e){return e.title}));j.push(t);var a=c.map((function(e){return e.publishedAt}));o.push(a)}(),Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(fe,{data:c})})},$e=function(e){var t=e.user,a=e.msgAlert,n=e.render,c=e.setRender,r=Object(s.useState)(null),j=Object(d.a)(r,2),o=j[0],u=j[1],b=Object(y.h)().borrowerId;if(Object(s.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(b);case 3:t=e.sent,u(t.data.client),c(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a({heading:"Failed!",message:e.t0.message,variant:"danger"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[n]),o){var h=o.loans.reduce((function(e,t){return e+t.amount}),0),m=[{name:"Total Credit Limits",YTD:h,Budget:o.creditLimit}];return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("div",{className:"screen",children:Object(S.jsxs)("div",{className:"screen-container",children:[Object(S.jsxs)("div",{className:"screen-top",children:[Object(S.jsxs)("div",{className:"header-box container-box",children:[Object(S.jsxs)("div",{className:"title-header",children:[Object(S.jsx)("img",{src:"https://logo.clearbit.com/".concat(o.name,".com"),alt:"",className:"image"}),Object(S.jsx)("h1",{children:o.name}),Object(S.jsx)("div",{className:"actions",children:Object(S.jsxs)("div",{className:"cellAction",children:[Object(S.jsx)(k.b,{to:"/clients/".concat(o._id,"/edit"),children:Object(S.jsx)("div",{className:"viewButton",children:"Edit"})}),Object(S.jsx)(ke,{user:t,client:o,msgAlert:a,setRender:c})]})}),Object(S.jsx)("div",{className:"add-btn",children:Object(S.jsx)(k.b,{to:"/loans/create",children:Object(S.jsx)("button",{children:"New loan"})})})]}),Object(S.jsxs)("div",{className:"company-metrics",children:[Object(S.jsxs)("ul",{children:["Industry: ",o.industry]}),Object(S.jsxs)("ul",{children:["Total loans outstanding: ",Object(S.jsx)("span",{children:"$"}),h,Object(S.jsx)("span",{children:"MM"})]}),Object(S.jsxs)("ul",{children:["Credit Authorization: ",Object(S.jsx)("span",{children:"$"}),o.creditLimit,Object(S.jsx)("span",{children:"MM"})]})]}),Object(S.jsx)("div",{className:"title",children:"Transactions List"}),Object(S.jsx)(Fe,{loans:o.loans})]}),Object(S.jsxs)("div",{className:"chart",children:[Object(S.jsx)("div",{className:"title",children:"YTD Revenue vs Budget ($MM)"}),Object(S.jsx)(Ye,{data:m})]})]}),Object(S.jsxs)("div",{className:"table-box",children:[Object(S.jsx)("div",{className:"title",children:"Latest News"}),Object(S.jsx)(Ue,{borrower:o})]})]})})})}return Object(S.jsx)(ue.a,{animation:"border",role:"status",children:Object(S.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},Pe=a(18),Ee=a(16),Ie=function(e){var t=e.data,a=e.handleChange,s=e.handleCreate;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("h1",{children:"New client"}),Object(S.jsx)("form",{onSubmit:s,children:Object(S.jsxs)("div",{className:"create-client-item",children:[t.map((function(e){return Object(S.jsx)("div",{children:Object(S.jsx)("input",{type:"text",placeholder:e.placeholder,name:e.property,value:e.value,onChange:a})},e.id)})),Object(S.jsx)("button",{className:"button",type:"submit",children:"Create"})]})})]})},_e=function(e){var t=e.user,a=e.setRender,n=e.msgAlert,c=Object(s.useState)({name:"",industry:"",creditLimit:""}),r=Object(d.a)(c,2),j=r[0],o=r[1],u=Object(s.useState)(!1),b=Object(d.a)(u,2),h=b[0],m=b[1],O=function(){var e=Object(l.a)(i.a.mark((function e(s){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,a(!1),m(!1),e.next=6,v(t,j);case 6:m(!0),a(!0),n({heading:"Client created",variant:"success"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n({heading:"Failed",message:"Please try again",variant:"danger"});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();if(h)return Object(S.jsx)(y.a,{to:"/clients"});var x=[{id:1,property:"name",value:"".concat(j.name),placeholder:"Company  Name"},{id:2,property:"industry",value:"".concat(j.industry),placeholder:"Industry"},{id:3,property:"creditLimit",value:"".concat(j.creditLimit),placeholder:"Credit Limit ($MM)"}];return Object(S.jsx)("div",{className:"screen",children:Object(S.jsx)("div",{className:"screen-container",children:Object(S.jsxs)("div",{className:"table-box",children:[!t&&Object(S.jsx)(k.b,{to:"/account/register",children:"Sign in or Register to create a new client"}),Object(S.jsx)(Ie,{data:x,handleChange:function(e){o(Object(Ee.a)(Object(Ee.a)({},j),{},Object(Pe.a)({},e.target.name,e.target.value)))},handleCreate:O})]})})})},Je=function(e){var t=e.msgAlert,a=e.user,s=e.setUser;if(a)return Object(S.jsx)("div",{className:"screen",children:Object(S.jsx)("div",{className:"screen-container",children:Object(S.jsx)("div",{className:"screen-top",children:Object(S.jsx)("div",{className:"account",children:Object(S.jsxs)("div",{className:"header-box container-box",children:[Object(S.jsx)("h1",{children:"Account"}),Object(S.jsxs)("div",{className:"table-box fill-form",children:[Object(S.jsx)("div",{className:"title",children:"Change your password"}),Object(S.jsx)(q,{msgAlert:t,user:a,setUser:s})]})]})})})})})},Ke=(a(425),function(e){var t=e.clients,a=e.user,n=e.render,c=e.creditBudget,r=e.setRender,o=e.msgAlert,u=e.selectClient,b=e.setSelectClient,h=Object(s.useState)(null),m=Object(d.a)(h,2),x=m[0],v=m[1];if(Object(s.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(!1),e.next=4,O();case 4:t=e.sent,v(t.data.clients),r(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),o({heading:"Failed!",message:e.t0.message,variant:"danger"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[n]),x){var p=Math.max.apply(Math,Object(j.a)(Ce(t))),g=Ce(t).length,f=[{YTD:function(e){for(var t=0,a=0;a<e.length;a++)for(var s=e[a].loans,n=0;n<s.length;n++){t+=s[n].amount}return t}(t),Budget:c,topLoan:p,numberLoans:g}];return Object(S.jsx)("div",{className:"screen",children:Object(S.jsxs)("div",{className:"screen-container",children:[Object(S.jsxs)("div",{className:"screen-top",children:[Object(S.jsxs)("div",{className:"header-box container-box",children:[Object(S.jsxs)("div",{className:"title-header",children:[Object(S.jsx)("h1",{children:"Loans"}),Object(S.jsx)("div",{className:"add-btn",children:Object(S.jsx)(k.b,{to:"/loans/create",children:Object(S.jsx)("button",{children:"New loan"})})})]}),Object(S.jsxs)("div",{className:"widgets",children:[Object(S.jsx)(ze,{title:"Total Loans Outstanding",data:f[0].YTD,isMoney:!0}),Object(S.jsx)(ze,{title:"Largest Loan",data:f[0].topLoan,isMoney:!0}),Object(S.jsx)(ze,{title:"Loans Granted",data:f[0].numberLoans,isMoney:!1})]})]}),Object(S.jsxs)("div",{className:"chart",children:[Object(S.jsx)("div",{className:"title",children:"Current Limits vs Budget ($MM)"}),f&&Object(S.jsx)(Ye,{data:f})]})]}),Object(S.jsxs)("div",{className:"table-box",children:[Object(S.jsx)("div",{className:"title",children:"Transactions List "}),Object(S.jsx)(se,{clients:t,user:a,setRender:r,msgAlert:o,selectClient:u,setSelectClient:b})]})]})})}return Object(S.jsx)(ue.a,{animation:"border",role:"status",children:Object(S.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),We=a(138),qe=function(e){var t=e.data,a=e.handleChange,s=e.handleCreate,n=e.loan,c=e.setLoan,r=e.clients.map((function(e){return{value:"".concat(e._id),label:"".concat(e.name)}}));return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("form",{onSubmit:s,children:Object(S.jsxs)("div",{className:"create-client-item",children:[Object(S.jsx)(We.a,{placeholder:"Select Borrower",options:r,onChange:function(e){c(Object(Ee.a)(Object(Ee.a)({},n),{},{borrowerId:e.value}))}}),t.map((function(e){return Object(S.jsx)("div",{children:Object(S.jsx)("input",{type:"text",placeholder:e.placeholder,name:e.property,value:e.value,onChange:a})},e.id)})),Object(S.jsx)(We.a,{placeholder:"Approval Status",options:[{value:"Approved",label:"Approved"},{value:"Pending",label:"Pending"}],onChange:function(e){c(Object(Ee.a)(Object(Ee.a)({},n),{},{status:e.value}))}}),Object(S.jsx)(We.a,{placeholder:"Closing Month",options:[{value:"Jan",label:"January"},{value:"Feb",label:"February"},{value:"Mar",label:"March"},{value:"Apr",label:"April"},{value:"May",label:"May"},{value:"Jun",label:"June"},{value:"Jul",label:"July"},{value:"Aug",label:"August"},{value:"Sep",label:"September"},{value:"Oct",label:"October"},{value:"Nov",label:"November"},{value:"Dec",label:"December"}],onChange:function(e){c(Object(Ee.a)(Object(Ee.a)({},n),{},{month:e.value}))}}),Object(S.jsx)("button",{className:"button",type:"submit",children:"Create"})]})})})},Ge=function(e){var t=e.user,a=e.updateMode,n=e.selectClient,c=e.clients,r=e.setRender,j=e.msgAlert,o=Object(s.useState)({description:"",amount:"",month:"",borrowerId:"",revenue:"",status:""}),u=Object(d.a)(o,2),b=u[0],h=u[1];a&&h(n);var m=Object(s.useState)(!1),O=Object(d.a)(m,2),x=O[0],v=O[1],p=function(){var e=Object(l.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,r(!1),v(!1),e.next=6,te(t,b);case 6:r(!0),v(!0),j({heading:"Loan created",variant:"success"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),j({heading:"Operation failed",message:e.t0.message,variant:"danger"});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();if(x)return Object(S.jsx)(y.a,{to:"/loans"});var g=[{id:1,property:"description",value:"".concat(b.description),placeholder:"Loan Type"},{id:2,property:"amount",value:"".concat(b.amount),placeholder:"Loan Amount ($MM)"},{id:3,property:"revenue",value:"".concat(b.revenue),placeholder:"Revenue ($MM)"}];return Object(S.jsx)("div",{className:"screen",children:Object(S.jsx)("div",{className:"screen-container",children:Object(S.jsxs)("div",{className:"table-box",children:[!t&&Object(S.jsx)(k.b,{to:"/account/register",children:"Sign in or Register to add a new loan"}),Object(S.jsx)("h1",{children:"New loan"}),Object(S.jsx)(qe,{user:t,data:g,handleChange:function(e){h(Object(Ee.a)(Object(Ee.a)({},b),{},Object(Pe.a)({},e.target.name,e.target.value)))},handleCreate:p,setLoan:h,loan:b,clients:c,selectClient:n})]})})})},He=function(e){var t=e.budgets;return Object(S.jsx)(V.a,{component:ee.a,className:"table",children:Object(S.jsxs)(G.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(S.jsx)(X.a,{children:Object(S.jsxs)(Z.a,{children:[Object(S.jsx)(Q.a,{className:"tableCell",size:"small",children:"Budget Category"}),Object(S.jsxs)(Q.a,{className:"tableCell",align:"right",size:"small",children:["Amount  ",Object(S.jsx)("span",{className:"amountStyle",children:"($MM)"})]}),Object(S.jsx)(Q.a,{className:"tableCell",align:"right",size:"small",children:"Actions"})]})}),Object(S.jsx)(H.a,{children:t.map((function(e){return Object(S.jsxs)(Z.a,{children:[Object(S.jsx)(Q.a,{children:e.type}),Object(S.jsx)(Q.a,{align:"right",children:e.amount}),Object(S.jsx)(Q.a,{align:"right",children:Object(S.jsx)("div",{className:"cellAction",children:Object(S.jsx)(k.b,{to:"/budget/".concat(e._id),children:Object(S.jsx)("div",{className:"viewButton",children:"Edit"})})})})]},e._id)}))})]})})},Qe=function(e){e.user,e.msgAlert;var t=e.budgets,a=e.revenueBudget,s=e.creditBudget;return t?Object(S.jsx)("div",{className:"screen",children:Object(S.jsx)("div",{className:"screen-container",children:Object(S.jsxs)("div",{className:"table-box",children:[Object(S.jsx)("div",{className:"title",children:"Budget List "}),Object(S.jsx)(He,{budgets:t,revenueBudget:a,creditBudget:s})]})})}):Object(S.jsx)(y.a,{to:"/"})},Ve=a(168),Xe=a.n(Ve),Ze=(a(440),a(245)),et=a.n(Ze),tt=a(246),at=a.n(tt);var st=function(e){var t=e.data,a=Object(s.useState)([]),n=Object(d.a)(a,2),c=n[0],r=n[1],i=Object(s.useState)(""),l=Object(d.a)(i,2),j=l[0],o=l[1],u=function(){r([]),o("")};return Object(S.jsxs)("div",{className:"search",children:[Object(S.jsxs)("div",{className:"input-container",children:[Object(S.jsx)("input",{type:"text",placeholder:"Search client...",value:j,onChange:function(e){var a=e.target.value;o(a);var s=t.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())}));r(""===a?[]:s)}}),Object(S.jsx)("div",{className:"search-icon",children:0===c.length?Object(S.jsx)(et.a,{}):Object(S.jsx)(at.a,{id:"clearBtn",onClick:u})})]}),0!==c.length&&Object(S.jsx)("div",{className:"dataResult",children:c.slice(0,15).map((function(e,t){return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(k.b,{to:"/clients/".concat(e._id),target:"_blank",rel:"noopener noreferrer",onClick:u,children:Object(S.jsxs)("p",{children:[e.name," "]})})})}))})]})},nt=a(247),ct=a.n(nt),rt=function(e){var t=e.user,a=e.clients,s=Object(S.jsx)("div",{className:"signed-in-menu",children:Object(S.jsxs)(k.b,{to:"/account/sign-out",children:[Object(S.jsx)(Xe.a,{className:"icon"})," Sign Out"]})});return Object(S.jsxs)("div",{className:"top-bar",children:[Object(S.jsx)("div",{className:"search-bar",children:Object(S.jsx)(st,{data:a})}),Object(S.jsxs)("div",{className:"user-register",children:[t&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(ct.a,{className:"icon"}),Object(S.jsx)("span",{children:t.email})]}),t&&s,!t&&Object(S.jsxs)(k.b,{to:"/account/register",children:[Object(S.jsx)(Xe.a,{className:"icon"})," Sign-in/Register"]})]})]})},it=function(e){var t=e.render,a=e.user,n=e.setRender,c=e.msgAlert,r=Object(y.h)().budgetId,j=Object(s.useState)(""),o=Object(d.a)(j,2),u=o[0],b=o[1],h=Object(s.useState)(""),m=Object(d.a)(h,2),O=m[0],x=m[1];Object(s.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!1),e.prev=1,e.next=4,f(r);case 4:t=e.sent,b(t.data.budget),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c({heading:"Failed!",message:"Please try again",variant:"danger"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var v=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n(!1),e.next=5,N(r,O);case 5:n(!0),c({heading:"Done!",variant:"success"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),c({heading:"Failed!",message:"Please try again",variant:"danger"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return t?Object(S.jsx)(y.a,{to:"/budget"}):Object(S.jsx)("div",{className:"screen",children:Object(S.jsx)("div",{className:"screen-container create",children:Object(S.jsxs)("div",{className:"table-box",children:[!a&&Object(S.jsx)(k.b,{to:"/account/register",children:"Sign in or Register to edit a budget"}),Object(S.jsxs)("h1",{children:["Update ",u.type]}),Object(S.jsx)("form",{className:"create-client-form",onSubmit:v,children:Object(S.jsxs)("div",{className:"create-client-item",children:[Object(S.jsx)("input",{type:"text",placeholder:"Type new amount",name:"amount",value:O,onChange:function(e){return x(e.target.value)}}),Object(S.jsx)("button",{className:"button",type:"submit",children:"Update"})]})})]})})})},lt=function(e){var t=e.user,a=e.msgAlert,n=e.render,c=e.setRender,r=Object(y.h)().borrowerId,j=Object(s.useState)(""),o=Object(d.a)(j,2),u=o[0],b=o[1],h=Object(s.useState)(""),m=Object(d.a)(h,2),O=m[0],x=m[1],v=Object(s.useState)(""),g=Object(d.a)(v,2),f=g[0],N=g[1];c(!1);var w=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,p(r,0,u,O,f);case 4:c(!1),a({heading:"Done!",variant:"success"}),c(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),a({heading:"Failed!",message:e.t0.message,variant:"danger"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return n?Object(S.jsx)(y.a,{to:"/clients"}):Object(S.jsx)("div",{className:"screen",children:Object(S.jsx)("div",{className:"screen-container create",children:Object(S.jsxs)("div",{className:"table-box",children:[!t&&Object(S.jsx)(k.b,{to:"/account/register",children:"Sign in or Register to edit a client"}),Object(S.jsx)("h1",{children:"Edit Client"}),Object(S.jsxs)("form",{className:"fill-form",onSubmit:w,children:[Object(S.jsxs)("div",{className:"name",children:[Object(S.jsx)("label",{children:"Company name"}),Object(S.jsx)("input",{type:"text",placeholder:"Enter name",name:"amount",value:u,onChange:function(e){return b(e.target.value)}})]}),Object(S.jsxs)("div",{className:"industry",children:[Object(S.jsx)("label",{children:"Company Industry"}),Object(S.jsx)("input",{type:"text",placeholder:"Industry",name:"amount",value:O,onChange:function(e){return x(e.target.value)}})]}),Object(S.jsxs)("div",{className:"amount",children:[Object(S.jsx)("label",{children:"Total Credit Limit"}),Object(S.jsx)("input",{type:"text",placeholder:"Credit limit ($MM)",name:"amount",value:f,onChange:function(e){return N(e.target.value)}})]}),Object(S.jsx)("button",{className:"button",type:"submit",children:"Update"})]})]})})})},jt=function(e){var t=e.msgAlert,a=e.user,s=e.setUser;return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("div",{className:"screen",children:Object(S.jsx)("div",{className:"screen-container",children:Object(S.jsx)("div",{className:"screen-top",children:Object(S.jsxs)("div",{className:"account",children:[Object(S.jsxs)("div",{className:"header-box container-box",children:[!a&&Object(S.jsx)("h1",{children:"Sign-in"}),Object(S.jsxs)("div",{className:"table-box fill-form",children:[Object(S.jsx)("div",{className:"title",children:"Welcome back!"}),Object(S.jsx)(K,{msgAlert:t,setUser:s})]})]}),Object(S.jsxs)("div",{className:"header-box container-box",children:[!a&&Object(S.jsx)("h1",{children:"Register"}),Object(S.jsxs)("div",{className:"table-box fill-form",children:[Object(S.jsx)("div",{className:"title",children:"Create an account"}),Object(S.jsx)(J,{msgAlert:t,setUser:s})]})]})]})})})})})},dt=function(){var e=Object(s.useState)(null),t=Object(d.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)([]),r=Object(d.a)(c,2),o=r[0],u=r[1],h=Object(s.useState)([]),x=Object(d.a)(h,2),v=x[0],p=x[1],g=Object(s.useState)([]),f=Object(d.a)(g,2),N=f[0],C=f[1],k=Object(s.useState)(!1),R=Object(d.a)(k,2),M=R[0],B=R[1],L=Object(s.useState)(null),D=Object(d.a)(L,2),Y=D[0],z=D[1],T=Object(s.useState)(null),F=Object(d.a)(T,2),U=F[0],P=F[1],E=Object(s.useState)(null),I=Object(d.a)(E,2),_=I[0],G=I[1],H=Object(s.useState)(null),Q=Object(d.a)(H,2),V=Q[0],X=Q[1],Z=function(e){var t=e.heading,a=e.message,s=e.variant,n=Object(w.a)();u((function(e){return[].concat(Object(j.a)(e),[{heading:t,message:a,variant:s,id:n}])}))};return Object(s.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O();case 3:return t=e.sent,C(t.data.clients),e.next=7,m.a.get(b+"/budget");case 7:a=e.sent,G(a.data.budget),P(a.data.budget[0].amount),z(a.data.budget[1].amount),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),Z({heading:"Failed to load",message:e.t0.message,variant:"danger"});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}})()()}),[M]),Object(S.jsxs)("div",{className:"app",children:[Object(S.jsx)($,{user:a}),Object(S.jsxs)("div",{className:"app-container",children:[Object(S.jsx)(rt,{user:a,clients:N,render:M}),o.map((function(e){return Object(S.jsx)(A,{heading:e.heading,variant:e.variant,message:e.message,id:e.id},e.id)})),Object(S.jsxs)(y.d,{children:[Object(S.jsx)(y.b,{path:"/",element:Object(S.jsx)(Ae,{clients:N,revenueChartData:v,setRevenueChartData:p,revenueBudget:Y,user:a,msgAlert:Z,setRender:B,setSelectClient:X})}),Object(S.jsxs)(y.b,{path:"/account/",children:[Object(S.jsx)(y.b,{index:!0,element:Object(S.jsx)(Je,{msgAlert:Z,user:a,setUser:n})}),Object(S.jsx)(y.b,{path:"register",element:Object(S.jsx)(jt,{msgAlert:Z,user:a,setUser:n})}),Object(S.jsx)(y.b,{path:"sign-up",element:Object(S.jsx)(J,{msgAlert:Z,setUser:n})}),Object(S.jsx)(y.b,{path:"sign-in",element:Object(S.jsx)(K,{msgAlert:Z,setUser:n})}),Object(S.jsx)(y.b,{path:"change-password",element:Object(S.jsx)(q,{msgAlert:Z,user:a})}),Object(S.jsx)(y.b,{path:"sign-out",element:Object(S.jsx)(W,{msgAlert:Z,clearUser:function(){return n(null)},user:a})})]}),Object(S.jsxs)(y.b,{path:"/clients/",children:[Object(S.jsx)(y.b,{index:!0,element:Object(S.jsx)(Te,{msgAlert:Z,clients:N,user:a,setRender:B,revenueBudget:Y})}),Object(S.jsx)(y.b,{path:":borrowerId",element:Object(S.jsx)($e,{user:a,render:M,setRender:B,msgAlert:Z})}),Object(S.jsx)(y.b,{path:":borrowerId/edit",element:Object(S.jsx)(lt,{user:a,render:M,setRender:B,msgAlert:Z})}),Object(S.jsx)(y.b,{path:"create",element:Object(S.jsx)(_e,{user:a,setRender:B,msgAlert:Z})})]}),Object(S.jsxs)(y.b,{path:"/loans/",children:[Object(S.jsx)(y.b,{index:!0,element:Object(S.jsx)(Ke,{clients:N,user:a,setRender:B,render:M,creditBudget:U,msgAlert:Z,selectClient:V,setSelectClient:X})}),Object(S.jsx)(y.b,{path:"create",element:Object(S.jsx)(Ge,{user:a,clients:N,msgAlert:Z,setRender:B})})]}),Object(S.jsxs)(y.b,{path:"/budget/",children:[Object(S.jsx)(y.b,{index:!0,element:Object(S.jsx)(Qe,{user:a,budgets:_,msgAlert:Z,revenueBudget:Y,setRevenueBudget:z,creditBudget:U,setCreditBudget:P,setBudgets:G})}),Object(S.jsx)(y.b,{path:":budgetId",element:Object(S.jsx)(it,{render:M,user:a,setRender:B,msgAlert:Z})})]})]})]})]})},ot=Object(S.jsx)(k.a,{basename:"/passbook",children:Object(S.jsx)(dt,{})});c.a.render(ot,document.getElementById("root"))}},[[441,1,2]]]);
//# sourceMappingURL=main.8064daf8.chunk.js.map